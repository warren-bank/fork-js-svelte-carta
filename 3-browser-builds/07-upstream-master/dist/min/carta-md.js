import{S as t,i as e,n,e as r,a as o,b as i,c as l,d as s,l as a,t as u,g as c,f,h,j as d,o as p,k as g,m,u as b,p as v,q as k,H as y,r as x,s as w,v as S,w as E,x as C,y as M,z as T,A as O,B as D,C as L,D as A,E as F,F as R,G as P,I,J as j,K as z,L as H,M as B,N as q,O as N,P as U,Q as _}from"./index-C6I7Lh2R.js";import{e as $}from"./each-Czqmo6_Q.js";import{g as V}from"./_commonjsHelpers-DJ1tnBvZ.js";import"https://esm.sh/shiki@1.9.0";function Z(t,e){const n={},r={},o={$$scope:1};let i=t.length;for(;i--;){const l=t[i],s=e[i];if(s){for(const t in l)t in s||(r[t]=1);for(const t in s)o[t]||(n[t]=s[t],o[t]=1);t[i]=s}else for(const t in l)o[t]=1}for(const t in r)t in n||(n[t]=void 0);return n}function W(t){return"object"==typeof t&&null!==t?t:{}}function Q(t,e=1e3){let n;return(...r)=>{clearTimeout(n),n=setTimeout((()=>t(...r)),e)}}class K extends Event{detail;constructor(t,e){super(t,e),this.detail=e.detail}}function Y(t){let e;const n=t[6].default,r=m(n,t,t[5],null);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=1},p(t,o){r&&r.p&&(!e||32&o)&&b(r,n,t,t[5],e?k(n,t[5],o,null):v(t[5]),null)},i(t){e||(u(r,t),e=1)},o(t){f(r,t),e=0},d(t){r&&r.d(t)}}}function X(t){let e,n,p,g,m,b,v=t[1]&&Y(t);return{c(){e=r("div"),n=new y(0),p=o(),v&&v.c(),n.a=p,i(e,"class","carta-renderer markdown-body svelte-1oqga2r")},m(r,o){l(r,e,o),n.m(t[2],e),s(e,p),v&&v.m(e,null),t[8](e),g=1,m||(b=a(e,"scroll",t[7]),m=1)},p(t,[r]){(!g||4&r)&&n.p(t[2]),t[1]?v?(v.p(t,r),2&r&&u(v,1)):(v=Y(t),v.c(),u(v,1),v.m(e,null)):v&&(c(),f(v,1,1,(()=>{v=null})),h())},i(t){g||(u(v),g=1)},o(t){f(v),g=0},d(n){n&&d(e),v&&v.d(),t[8](null),m=0,b()}}}function G(t,e,n){let{$$slots:r={},$$scope:o}=e,{carta:i}=e,{value:l}=e,{elem:s}=e,a=0,u=i.renderSSR(l);const c=Q((t=>{i.render(t).then((t=>n(2,u=t))).then((()=>f("render",void 0)))}),i.rendererDebounce??300);p((()=>i.$setRenderer(s))),p((()=>n(1,a=1)));const f=g();return t.t=t=>{"carta"in t&&n(3,i=t.carta),"value"in t&&n(4,l=t.value),"elem"in t&&n(0,s=t.elem),"$$scope"in t&&n(5,o=t.$$scope)},t.l.update=()=>{18&t.l.u&&a&&c(l)},[s,a,u,i,l,o,r,function(e){x.call(this,t,e)},t=>{w[t?"unshift":"push"]((()=>{s=t,n(0,s)}))}]}let J=class extends t{constructor(t){super(),e(this,t,G,X,n,{carta:3,value:4,elem:0})}};function tt(t){let e;const n=t[12].default,r=m(n,t,t[11],null);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=1},p(t,o){r&&r.p&&(!e||2048&o)&&b(r,n,t,t[11],e?k(n,t[11],o,null):v(t[11]),null)},i(t){e||(u(r,t),e=1)},o(t){f(r,t),e=0},d(t){r&&r.d(t)}}}function et(t){let e,n,o,p,g,m,b,v,k=[{name:"md"},{id:"md"},{spellcheck:"false"},{class:"carta-font-code"},{"aria-multiline":"true"},{"aria-describedby":"editor-unfocus-suggestion"},{tabindex:"0"},{placeholder:t[2]},t[3]],y={};for(let t=0;k.length>t;t+=1)y=S(y,k[t]);let x=t[7]&&tt(t);return{c(){e=r("div"),e.textContent="Press ESC then TAB to move the focus off the field\n",n=r("div"),o=r("div"),p=r("div"),g=r("textarea"),x&&x.c(),i(e,"role","tooltip"),i(e,"id","editor-unfocus-suggestion"),i(e,"class","svelte-yfzyj5"),i(p,"class","carta-highlight carta-font-code svelte-yfzyj5"),i(p,"tabindex","-1"),i(p,"aria-hidden","true"),E(g,y),C(g,"svelte-yfzyj5",1),i(o,"class","carta-input-wrapper svelte-yfzyj5"),i(n,"role","textbox"),i(n,"tabindex","-1"),i(n,"class","carta-input svelte-yfzyj5")},m(r,i){l(r,e,i),l(r,n,i),s(n,o),s(o,p),p.innerHTML=t[6],t[14](p),s(o,g),g.autofocus&&g.focus(),M(g,t[0]),t[16](g),x&&x.m(n,null),t[18](n),m=1,b||(v=[a(g,"input",t[15]),a(g,"scroll",t[17]),a(n,"click",t[8]),a(n,"keydown",t[8]),a(n,"scroll",t[13])],b=1)},p(t,[e]){(!m||64&e)&&(p.innerHTML=t[6]),E(g,y=Z(k,[{name:"md"},{id:"md"},{spellcheck:"false"},{class:"carta-font-code"},{"aria-multiline":"true"},{"aria-describedby":"editor-unfocus-suggestion"},{tabindex:"0"},(!m||4&e)&&{placeholder:t[2]},8&e&&t[3]])),1&e&&M(g,t[0]),C(g,"svelte-yfzyj5",1),t[7]?x?(x.p(t,e),128&e&&u(x,1)):(x=tt(t),x.c(),u(x,1),x.m(n,null)):x&&(c(),f(x,1,1,(()=>{x=null})),h())},i(t){m||(u(x),m=1)},o(t){f(x),m=0},d(r){r&&(d(e),d(n)),t[14](null),t[16](null),x&&x.d(),t[18](null),b=0,T(v)}}}function nt(t,e,n){let r,o,{$$slots:i={},$$scope:l}=e,{carta:s}=e,{value:a=""}=e,{placeholder:u=""}=e,{elem:c}=e,{h:f={}}=e,h=a,d=0;const g=()=>{d&&r&&(n(4,r.style.height=o.scrollHeight+"px",r),n(4,r.scrollTop=0,r))},m=async t=>{const e=await s.highlighter();if(!e)return;let r;const o=await import("./highlight-2XSyr1M6.js"),{isSingleTheme:i}=o;r=i(e.theme)?e.codeToHtml(t,{lang:e.lang,theme:e.theme}):e.codeToHtml(t,{lang:e.lang,themes:e.theme}),n(6,h=s.sanitizer?s.sanitizer(r):r)},b=Q((async t=>{const e=await s.highlighter(),n=await import("./highlight-2XSyr1M6.js"),{loadNestedLanguages:r}=n;if(!e)return;const{updated:o}=await r(e,t);o&&m(t)}),300);return p((()=>{n(7,d=1),requestAnimationFrame(g)})),p((()=>{s.$setInput(r,c,(()=>{n(0,a=r.value),m(a)}))})),t.t=t=>{"carta"in t&&n(9,s=t.carta),"value"in t&&n(0,a=t.value),"placeholder"in t&&n(2,u=t.placeholder),"elem"in t&&n(1,c=t.elem),"$$scope"in t&&n(11,l=t.$$scope)},t.l.update=()=>{var e;1&t.l.u&&(m(e=a).then(g),b(e))},[a,c,u,f,r,o,h,d,()=>{const t=globalThis.getSelection()?.toString();t||r?.focus()},s,g,l,i,function(e){x.call(this,t,e)},t=>{w[t?"unshift":"push"]((()=>{o=t,n(5,o)}))},function(){a=this.value,n(0,a)},t=>{w[t?"unshift":"push"]((()=>{r=t,n(4,r)}))},()=>n(4,r.scrollTop=0,r),t=>{w[t?"unshift":"push"]((()=>{c=t,n(1,c)}))}]}class rt extends t{constructor(t){super(),e(this,t,nt,et,n,{carta:9,value:0,placeholder:2,elem:1,h:3,resize:10})}get resize(){return this.l.v[10]}}const ot={writeTab:"Write",previewTab:"Preview",iconsLabels:{}};function it(t){if("ArrowLeft"!==t.key&&"ArrowRight"!==t.key)return;t.preventDefault();const e=t.currentTarget.parentElement?.children;if(!e)return;const n=t.currentTarget.previousElementSibling??e[e.length-1];"ArrowRight"===t.key?(t.currentTarget.nextElementSibling??e[0]).focus():n.focus()}function lt(t){let e,n;return{c(){e=O("svg"),n=O("path"),i(n,"fill","currentColor"),i(n,"d","M4 8a2 2 0 1 1-3.999.001A2 2 0 0 1 4 8m6 0a2 2 0 1 1-3.999.001A2 2 0 0 1 10 8m6 0a2 2 0 1 1-3.999.001A2 2 0 0 1 16 8"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"width","1em"),i(e,"height","1em"),i(e,"viewBox","0 0 16 16")},m(t,r){l(t,e,r),s(e,n)},p:D,i:D,o:D,d(t){t&&d(e)}}}class st extends t{constructor(t){super(),e(this,t,null,lt,n,{})}}function at(t,e,n){const r=t.slice();return r[28]=e[n],r[29]=r[3].iconsLabels[r[28].id]??r[28].label,r}function ut(t){const e=t.slice();return e[29]=e[3].iconsLabels.menu??"Menu",e}function ct(t,e,n){const r=t.slice();return r[28]=e[n],r[33]=n,r[29]=r[3].iconsLabels[r[28].id]??r[28].label,r}function ft(t){let e,n,o,u,c,f,h,p,g=t[3].writeTab+"",m=t[3].previewTab+"";return{c(){e=r("button"),n=F(g),u=r("button"),c=F(m),i(e,"type","button"),i(e,"tabindex",0),i(e,"class",o="write"===t[0]?"carta-active":""),i(u,"type","button"),i(u,"tabindex",-1),i(u,"class",f="preview"===t[0]?"carta-active":"")},m(r,o){l(r,e,o),s(e,n),l(r,u,o),s(u,c),h||(p=[a(e,"click",t[15]),a(e,"keydown",it),a(u,"click",t[16]),a(u,"keydown",it)],h=1)},p(t,r){8&r[0]&&g!==(g=t[3].writeTab+"")&&R(n,g),1&r[0]&&o!==(o="write"===t[0]?"carta-active":"")&&i(e,"class",o),8&r[0]&&m!==(m=t[3].previewTab+"")&&R(c,m),1&r[0]&&f!==(f="preview"===t[0]?"carta-active":"")&&i(u,"class",f)},d(t){t&&(d(e),d(u)),h=0,T(p)}}}function ht(t){let e,n,r,i=$(t[4]),s=[];for(let e=0;i.length>e;e+=1)s[e]=dt(ct(t,i,e));const a=t=>f(s[t],1,1,(()=>{s[t]=null}));let p=t[11]&&pt(ut(t));return{c(){for(let t=0;s.length>t;t+=1)s[t].c();e=o(),p&&p.c(),n=o()},m(t,o){for(let e=0;s.length>e;e+=1)s[e]&&s[e].m(t,o);l(t,e,o),p&&p.m(t,o),l(t,n,o),r=1},p(t,r){if(538&r[0]){let n;for(i=$(t[4]),n=0;i.length>n;n+=1){const o=ct(t,i,n);s[n]?(s[n].p(o,r),u(s[n],1)):(s[n]=dt(o),s[n].c(),u(s[n],1),s[n].m(e.parentNode,e))}for(c(),n=i.length;s.length>n;n+=1)a(n);h()}t[11]?p?(p.p(ut(t),r),2048&r[0]&&u(p,1)):(p=pt(ut(t)),p.c(),u(p,1),p.m(n.parentNode,n)):p&&(c(),f(p,1,1,(()=>{p=null})),h())},i(t){if(!r){for(let t=0;i.length>t;t+=1)u(s[t]);u(p),r=1}},o(t){s=s.filter(Boolean);for(let t=0;s.length>t;t+=1)f(s[t]);f(p),r=0},d(t){t&&(d(e),d(n)),P(s,t),p&&p.d(t)}}}function dt(t){let e,n,o,s,p,g,m,b;var v=t[28].component;function k(){return t[19](t[28])}return v&&(n=I(v,{})),{c(){e=r("button"),n&&j(n.l.fragment),i(e,"class","carta-icon svelte-14g49jy"),i(e,"tabindex",0==t[33]?0:-1),i(e,"title",o=t[29]),i(e,"aria-label",s=t[29]),L((()=>t[18].call(e)))},m(r,o){l(r,e,o),n&&z(n,e,null),p=A(e,t[18].bind(e)),g=1,m||(b=[a(e,"click",H(q(k))),a(e,"keydown",it)],m=1)},p(r,l){if(t=r,16&l[0]&&v!==(v=t[28].component)){if(n){c();const t=n;f(t.l.fragment,1,0,(()=>{B(t,1)})),h()}v?(n=I(v,{}),j(n.l.fragment),u(n.l.fragment,1),z(n,e,null)):n=null}(!g||24&l[0]&&o!==(o=t[29]))&&i(e,"title",o),(!g||24&l[0]&&s!==(s=t[29]))&&i(e,"aria-label",s)},i(t){g||(n&&u(n.l.fragment,t),g=1)},o(t){n&&f(n.l.fragment,t),g=0},d(t){t&&d(e),n&&B(n),p(),m=0,T(b)}}}function pt(t){let e,n,o,s,c,h,p;return n=new st({}),{c(){e=r("button"),j(n.l.fragment),i(e,"class","carta-icon svelte-14g49jy"),i(e,"tabindex",-1),i(e,"title",o=t[29]),i(e,"aria-label",s=t[29])},m(r,o){l(r,e,o),z(n,e,null),c=1,h||(p=[a(e,"keydown",it),a(e,"click",H(q(t[20])))],h=1)},p(t,n){(!c||8&n[0]&&o!==(o=t[29]))&&i(e,"title",o),(!c||8&n[0]&&s!==(s=t[29]))&&i(e,"aria-label",s)},i(t){c||(u(n.l.fragment,t),c=1)},o(t){f(n.l.fragment,t),c=0},d(t){t&&d(e),B(n),h=0,T(p)}}}function gt(t){let e,n,o=$(t[1].icons.filter(t[24])),s=[];for(let e=0;o.length>e;e+=1)s[e]=mt(at(t,o,e));const a=t=>f(s[t],1,1,(()=>{s[t]=null}));return{c(){e=r("div");for(let t=0;s.length>t;t+=1)s[t].c();i(e,"class","carta-icons-menu svelte-14g49jy"),N(e,"top",t[10]+"px")},m(r,o){l(r,e,o);for(let t=0;s.length>t;t+=1)s[t]&&s[t].m(e,null);t[26](e),n=1},p(t,r){if(4122&r[0]){let n;for(o=$(t[1].icons.filter(t[24])),n=0;o.length>n;n+=1){const i=at(t,o,n);s[n]?(s[n].p(i,r),u(s[n],1)):(s[n]=mt(i),s[n].c(),u(s[n],1),s[n].m(e,null))}for(c(),n=o.length;s.length>n;n+=1)a(n);h()}(!n||1024&r[0])&&N(e,"top",t[10]+"px")},i(t){if(!n){for(let t=0;o.length>t;t+=1)u(s[t]);n=1}},o(t){s=s.filter(Boolean);for(let t=0;s.length>t;t+=1)f(s[t]);n=0},d(n){n&&d(e),P(s,n),t[26](null)}}}function mt(t){let e,n,o,p,g,m,b,v,k=t[29]+"";var y=t[28].component;function x(){return t[25](t[28])}return y&&(n=I(y,{})),{c(){e=r("button"),n&&j(n.l.fragment),o=r("span"),p=F(k),i(e,"class","carta-icon-full svelte-14g49jy"),i(e,"aria-label",g=t[29])},m(t,r){l(t,e,r),n&&z(n,e,null),s(e,o),s(o,p),m=1,b||(v=[a(e,"click",H(q(x))),a(e,"keydown",it)],b=1)},p(r,l){if(t=r,18&l[0]&&y!==(y=t[28].component)){if(n){c();const t=n;f(t.l.fragment,1,0,(()=>{B(t,1)})),h()}y?(n=I(y,{}),j(n.l.fragment),u(n.l.fragment,1),z(n,e,o)):n=null}(!m||26&l[0])&&k!==(k=t[29]+"")&&R(p,k),(!m||26&l[0]&&g!==(g=t[29]))&&i(e,"aria-label",g)},i(t){m||(n&&u(n.l.fragment,t),m=1)},o(t){n&&f(n.l.fragment,t),m=0},d(t){t&&d(e),n&&B(n),b=0,T(v)}}}function bt(t){let e,n,p,g,m,b,v,k,y,x,w="tabs"==t[2]&&ft(t),S=!("tabs"===t[2]&&"preview"===t[0])&&ht(t),E=t[12]&&t[11]&&gt(t);return{c(){e=r("div"),n=r("div"),w&&w.c(),p=r("div"),m=r("div"),S&&S.c(),E&&E.c(),v=o(),i(n,"class","carta-toolbar-left svelte-14g49jy"),i(p,"class","carta-filler svelte-14g49jy"),L((()=>t[17].call(p))),i(m,"class","carta-toolbar-right svelte-14g49jy"),i(e,"class","carta-toolbar svelte-14g49jy"),i(e,"role","toolbar"),L((()=>t[22].call(e)))},m(r,o){l(r,e,o),s(e,n),w&&w.m(n,null),s(e,p),g=A(p,t[17].bind(p)),s(e,m),S&&S.m(m,null),t[21](m),b=A(e,t[22].bind(e)),t[23](e),E&&E.m(r,o),l(r,v,o),k=1,y||(x=[a(globalThis,"resize",t[13]),a(globalThis,"click",t[14])],y=1)},p(t,e){"tabs"==t[2]?w?w.p(t,e):(w=ft(t),w.c(),w.m(n,null)):w&&(w.d(1),w=null),"tabs"!==t[2]||"preview"!==t[0]?S?(S.p(t,e),5&e[0]&&u(S,1)):(S=ht(t),S.c(),u(S,1),S.m(m,null)):S&&(c(),f(S,1,1,(()=>{S=null})),h()),t[12]&&t[11]?E?(E.p(t,e),6144&e[0]&&u(E,1)):(E=gt(t),E.c(),u(E,1),E.m(v.parentNode,v)):E&&(c(),f(E,1,1,(()=>{E=null})),h())},i(t){k||(u(S),u(E),k=1)},o(t){f(S),f(E),k=0},d(n){n&&(d(e),d(v)),w&&w.d(),g(),S&&S.d(),t[21](null),b(),t[23](null),E&&E.d(n),y=0,T(x)}}}function vt(t,e,n){let r,o,i,{carta:l}=e,{mode:s}=e,{tab:a}=e,{labels:u}=e,c=[...l.icons],f=0,h=0,d=0,g=0,m=0;const b=()=>new Promise(requestAnimationFrame),v=Q((async()=>{if(r&&i){for(;r.scrollWidth-r.clientWidth>0;)c.pop(),n(4,c),await b();for(;l.icons.length>c.length&&f>2*h+8;)c.push(l.icons[c.length]),n(4,c),await b()}}),100);return p(v),t.t=t=>{"carta"in t&&n(1,l=t.carta),"mode"in t&&n(2,s=t.mode),"tab"in t&&n(0,a=t.tab),"labels"in t&&n(3,u=t.labels)},t.l.update=()=>{18&t.l.u[0]&&n(11,g=c.length!==l.icons.length)},[a,l,s,u,c,r,o,i,f,h,d,g,m,v,t=>{o&&!o.contains(t.target)&&n(12,m=0)},()=>n(0,a="write"),()=>n(0,a="preview"),function(){f=this.clientWidth,n(8,f)},function(){h=this.clientWidth,n(9,h)},t=>{l.input&&t.action(l.input),l.input?.update(),l.input?.textarea.focus()},()=>n(12,m=!m),t=>{w[t?"unshift":"push"]((()=>{i=t,n(7,i)}))},function(){d=this.clientHeight,n(10,d)},t=>{w[t?"unshift":"push"]((()=>{r=t,n(5,r)}))},t=>!c.includes(t),t=>{l.input&&t.action(l.input),l.input?.update(),l.input?.textarea.focus(),n(12,m=0)},t=>{w[t?"unshift":"push"]((()=>{o=t,n(6,o)}))}]}class kt extends t{constructor(t){super(),e(this,t,vt,bt,n,{carta:1,mode:2,tab:0,labels:3},null,[-1,-1])}}function yt(t,e,n){const r=t.slice();return r[32]=e[n].component,r[33]=e[n].h,r}function xt(t,e,n){const r=t.slice();return r[32]=e[n].component,r[33]=e[n].h,r}function wt(t,e,n){const r=t.slice();return r[32]=e[n].component,r[33]=e[n].h,r}function St(t){let e,n,r;function o(e){t[20](e)}let i={carta:t[2],labels:t[15],mode:t[9]};return void 0!==t[0]&&(i.tab=t[0]),e=new kt({h:i}),w.push((()=>U(e,"tab",o))),{c(){j(e.l.fragment)},m(t,n){z(e,t,n),r=1},p(t,r){const o={};4&r[0]&&(o.carta=t[2]),512&r[0]&&(o.mode=t[9]),!n&&1&r[0]&&(n=1,o.tab=t[0],_((()=>n=0))),e.S(o)},i(t){r||(u(e.l.fragment,t),r=1)},o(t){f(e.l.fragment,t),r=0},d(t){B(e,t)}}}function Et(t){let e,n,r,o,i;function l(e){t[21](e)}function s(e){t[22](e)}function a(e){t[23](e)}let c={carta:t[2],placeholder:t[6],h:t[7],$$slots:{default:[Tt]},$$scope:{v:t}};return void 0!==t[1]&&(c.value=t[1]),void 0!==t[10]&&(c.resize=t[10]),void 0!==t[11]&&(c.elem=t[11]),e=new rt({h:c}),w.push((()=>U(e,"value",l))),w.push((()=>U(e,"resize",s))),w.push((()=>U(e,"elem",a))),e.$on("scroll",t[16]),{c(){j(e.l.fragment)},m(t,n){z(e,t,n),i=1},p(t,i){const l={};4&i[0]&&(l.carta=t[2]),64&i[0]&&(l.placeholder=t[6]),128&i[0]&&(l.h=t[7]),8196&i[0]|512&i[1]&&(l.$$scope={u:i,v:t}),!n&&2&i[0]&&(n=1,l.value=t[1],_((()=>n=0))),!r&&1024&i[0]&&(r=1,l.resize=t[10],_((()=>r=0))),!o&&2048&i[0]&&(o=1,l.elem=t[11],_((()=>o=0))),e.S(l)},i(t){i||(u(e.l.fragment,t),i=1)},o(t){f(e.l.fragment,t),i=0},d(t){B(e,t)}}}function Ct(t){let e,n,r=$(t[2].components.filter(It)),i=[];for(let e=0;r.length>e;e+=1)i[e]=Mt(wt(t,r,e));const s=t=>f(i[t],1,1,(()=>{i[t]=null}));return{c(){for(let t=0;i.length>t;t+=1)i[t].c();e=o()},m(t,r){for(let e=0;i.length>e;e+=1)i[e]&&i[e].m(t,r);l(t,e,r),n=1},p(t,n){if(4&n[0]){let o;for(r=$(t[2].components.filter(It)),o=0;r.length>o;o+=1){const l=wt(t,r,o);i[o]?(i[o].p(l,n),u(i[o],1)):(i[o]=Mt(l),i[o].c(),u(i[o],1),i[o].m(e.parentNode,e))}for(c(),o=r.length;i.length>o;o+=1)s(o);h()}},i(t){if(!n){for(let t=0;r.length>t;t+=1)u(i[t]);n=1}},o(t){i=i.filter(Boolean);for(let t=0;i.length>t;t+=1)f(i[t]);n=0},d(t){t&&d(e),P(i,t)}}}function Mt(t){let e,n,r;const i=[{carta:t[2]},t[33]];var s=t[32];function a(t,e){let n={};for(let t=0;i.length>t;t+=1)n=S(n,i[t]);return void 0!==e&&4&e[0]&&(n=S(n,Z(i,[{carta:t[2]},W(t[33])]))),{h:n}}return s&&(e=I(s,a(t))),{c(){e&&j(e.l.fragment),n=o()},m(t,o){e&&z(e,t,o),l(t,n,o),r=1},p(t,r){if(4&r[0]&&s!==(s=t[32])){if(e){c();const t=e;f(t.l.fragment,1,0,(()=>{B(t,1)})),h()}s?(e=I(s,a(t,r)),j(e.l.fragment),u(e.l.fragment,1),z(e,n.parentNode,n)):e=null}else if(s){const n=4&r[0]?Z(i,[{carta:t[2]},W(t[33])]):{};e.S(n)}},i(t){r||(e&&u(e.l.fragment,t),r=1)},o(t){e&&f(e.l.fragment,t),r=0},d(t){t&&d(n),e&&B(e,t)}}}function Tt(t){let e,n,r=t[13]&&Ct(t);return{c(){r&&r.c(),e=o()},m(t,o){r&&r.m(t,o),l(t,e,o),n=1},p(t,n){t[13]?r?(r.p(t,n),8192&n[0]&&u(r,1)):(r=Ct(t),r.c(),u(r,1),r.m(e.parentNode,e)):r&&(c(),f(r,1,1,(()=>{r=null})),h())},i(t){n||(u(r),n=1)},o(t){f(r),n=0},d(t){t&&d(e),r&&r.d(t)}}}function Ot(t){let e,n,r;function o(e){t[24](e)}let i={carta:t[2],value:t[1],$$slots:{default:[At]},$$scope:{v:t}};return void 0!==t[12]&&(i.elem=t[12]),e=new J({h:i}),w.push((()=>U(e,"elem",o))),e.$on("scroll",t[16]),e.$on("render",t[25]),{c(){j(e.l.fragment)},m(t,n){z(e,t,n),r=1},p(t,r){const o={};4&r[0]&&(o.carta=t[2]),2&r[0]&&(o.value=t[1]),8196&r[0]|512&r[1]&&(o.$$scope={u:r,v:t}),!n&&4096&r[0]&&(n=1,o.elem=t[12],_((()=>n=0))),e.S(o)},i(t){r||(u(e.l.fragment,t),r=1)},o(t){f(e.l.fragment,t),r=0},d(t){B(e,t)}}}function Dt(t){let e,n,r=$(t[2].components.filter(jt)),i=[];for(let e=0;r.length>e;e+=1)i[e]=Lt(xt(t,r,e));const s=t=>f(i[t],1,1,(()=>{i[t]=null}));return{c(){for(let t=0;i.length>t;t+=1)i[t].c();e=o()},m(t,r){for(let e=0;i.length>e;e+=1)i[e]&&i[e].m(t,r);l(t,e,r),n=1},p(t,n){if(4&n[0]){let o;for(r=$(t[2].components.filter(jt)),o=0;r.length>o;o+=1){const l=xt(t,r,o);i[o]?(i[o].p(l,n),u(i[o],1)):(i[o]=Lt(l),i[o].c(),u(i[o],1),i[o].m(e.parentNode,e))}for(c(),o=r.length;i.length>o;o+=1)s(o);h()}},i(t){if(!n){for(let t=0;r.length>t;t+=1)u(i[t]);n=1}},o(t){i=i.filter(Boolean);for(let t=0;i.length>t;t+=1)f(i[t]);n=0},d(t){t&&d(e),P(i,t)}}}function Lt(t){let e,n,r;const i=[{carta:t[2]},t[33]];var s=t[32];function a(t,e){let n={};for(let t=0;i.length>t;t+=1)n=S(n,i[t]);return void 0!==e&&4&e[0]&&(n=S(n,Z(i,[{carta:t[2]},W(t[33])]))),{h:n}}return s&&(e=I(s,a(t))),{c(){e&&j(e.l.fragment),n=o()},m(t,o){e&&z(e,t,o),l(t,n,o),r=1},p(t,r){if(4&r[0]&&s!==(s=t[32])){if(e){c();const t=e;f(t.l.fragment,1,0,(()=>{B(t,1)})),h()}s?(e=I(s,a(t,r)),j(e.l.fragment),u(e.l.fragment,1),z(e,n.parentNode,n)):e=null}else if(s){const n=4&r[0]?Z(i,[{carta:t[2]},W(t[33])]):{};e.S(n)}},i(t){r||(e&&u(e.l.fragment,t),r=1)},o(t){e&&f(e.l.fragment,t),r=0},d(t){t&&d(n),e&&B(e,t)}}}function At(t){let e,n,r=t[13]&&Dt(t);return{c(){r&&r.c(),e=o()},m(t,o){r&&r.m(t,o),l(t,e,o),n=1},p(t,n){t[13]?r?(r.p(t,n),8192&n[0]&&u(r,1)):(r=Dt(t),r.c(),u(r,1),r.m(e.parentNode,e)):r&&(c(),f(r,1,1,(()=>{r=null})),h())},i(t){n||(u(r),n=1)},o(t){f(r),n=0},d(t){t&&d(e),r&&r.d(t)}}}function Ft(t){let e,n,r=$(t[2].components.filter(zt)),i=[];for(let e=0;r.length>e;e+=1)i[e]=Rt(yt(t,r,e));const s=t=>f(i[t],1,1,(()=>{i[t]=null}));return{c(){for(let t=0;i.length>t;t+=1)i[t].c();e=o()},m(t,r){for(let e=0;i.length>e;e+=1)i[e]&&i[e].m(t,r);l(t,e,r),n=1},p(t,n){if(4&n[0]){let o;for(r=$(t[2].components.filter(zt)),o=0;r.length>o;o+=1){const l=yt(t,r,o);i[o]?(i[o].p(l,n),u(i[o],1)):(i[o]=Rt(l),i[o].c(),u(i[o],1),i[o].m(e.parentNode,e))}for(c(),o=r.length;i.length>o;o+=1)s(o);h()}},i(t){if(!n){for(let t=0;r.length>t;t+=1)u(i[t]);n=1}},o(t){i=i.filter(Boolean);for(let t=0;i.length>t;t+=1)f(i[t]);n=0},d(t){t&&d(e),P(i,t)}}}function Rt(t){let e,n,r;const i=[{carta:t[2]},t[33]];var s=t[32];function a(t,e){let n={};for(let t=0;i.length>t;t+=1)n=S(n,i[t]);return void 0!==e&&4&e[0]&&(n=S(n,Z(i,[{carta:t[2]},W(t[33])]))),{h:n}}return s&&(e=I(s,a(t))),{c(){e&&j(e.l.fragment),n=o()},m(t,o){e&&z(e,t,o),l(t,n,o),r=1},p(t,r){if(4&r[0]&&s!==(s=t[32])){if(e){c();const t=e;f(t.l.fragment,1,0,(()=>{B(t,1)})),h()}s?(e=I(s,a(t,r)),j(e.l.fragment),u(e.l.fragment,1),z(e,n.parentNode,n)):e=null}else if(s){const n=4&r[0]?Z(i,[{carta:t[2]},W(t[33])]):{};e.S(n)}},i(t){r||(e&&u(e.l.fragment,t),r=1)},o(t){e&&f(e.l.fragment,t),r=0},d(t){t&&d(n),e&&B(e,t)}}}function Pt(t){let e,n,a,p,g,m,b,v,k=!t[5]&&St(t),y=("split"==t[9]||"write"==t[0])&&Et(t),x=("split"==t[9]||"preview"==t[0])&&Ot(t),w=t[13]&&Ft(t);return{c(){e=r("div"),k&&k.c(),n=r("div"),a=r("div"),y&&y.c(),p=o(),x&&x.c(),w&&w.c(),i(a,"class",g="carta-container mode-"+t[9]+" svelte-smf7uv"),i(n,"class","carta-wrapper"),i(e,"class",m="carta-editor carta-theme__"+t[3]+" svelte-smf7uv"),L((()=>t[27].call(e)))},m(r,o){l(r,e,o),k&&k.m(e,null),s(e,n),s(n,a),y&&y.m(a,null),s(a,p),x&&x.m(a,null),w&&w.m(e,null),t[26](e),b=A(e,t[27].bind(e)),v=1},p(t,r){t[5]?k&&(c(),f(k,1,1,(()=>{k=null})),h()):k?(k.p(t,r),32&r[0]&&u(k,1)):(k=St(t),k.c(),u(k,1),k.m(e,n)),"split"==t[9]||"write"==t[0]?y?(y.p(t,r),513&r[0]&&u(y,1)):(y=Et(t),y.c(),u(y,1),y.m(a,p)):y&&(c(),f(y,1,1,(()=>{y=null})),h()),"split"==t[9]||"preview"==t[0]?x?(x.p(t,r),513&r[0]&&u(x,1)):(x=Ot(t),x.c(),u(x,1),x.m(a,null)):x&&(c(),f(x,1,1,(()=>{x=null})),h()),(!v||512&r[0]&&g!==(g="carta-container mode-"+t[9]+" svelte-smf7uv"))&&i(a,"class",g),t[13]?w?(w.p(t,r),8192&r[0]&&u(w,1)):(w=Ft(t),w.c(),u(w,1),w.m(e,null)):w&&(c(),f(w,1,1,(()=>{w=null})),h()),(!v||8&r[0]&&m!==(m="carta-editor carta-theme__"+t[3]+" svelte-smf7uv"))&&i(e,"class",m)},i(t){v||(u(k),u(y),u(x),u(w),v=1)},o(t){f(k),f(y),f(x),f(w),v=0},d(n){n&&d(e),k&&k.d(),y&&y.d(),x&&x.d(),w&&w.d(),t[26](null),b()}}}const It=({parent:t})=>[t].flat().includes("input"),jt=({parent:t})=>[t].flat().includes("renderer"),zt=({parent:t})=>[t].flat().includes("editor");function Ht(t,e,n){let{carta:r}=e,{theme:o="default"}=e,{value:i=""}=e,{mode:l="auto"}=e,{scroll:s="sync"}=e,{disableToolbar:a=0}=e,{placeholder:u=""}=e,{textarea:c={}}=e,{selectedTab:f="write"}=e,{labels:h={}}=e;const d={...ot,...h};let g,m,b,v,k,y,x,S=0,E=0;const C=Q((()=>{x=null}),1e3);function M(t,e){const n=(r=t).scrollTop*(1+r.clientHeight/(r.scrollHeight-r.clientHeight))/r.scrollHeight;var r;E=n,x&&x!=t||(x=t,e.scrollTo({top:n*(e.scrollHeight-e.clientHeight),behavior:"smooth"}),C())}return p((()=>r.$setElement(v))),p((()=>n(13,S=1))),t.t=t=>{"carta"in t&&n(2,r=t.carta),"theme"in t&&n(3,o=t.theme),"value"in t&&n(1,i=t.value),"mode"in t&&n(18,l=t.mode),"scroll"in t&&n(4,s=t.scroll),"disableToolbar"in t&&n(5,a=t.disableToolbar),"placeholder"in t&&n(6,u=t.placeholder),"textarea"in t&&n(7,c=t.textarea),"selectedTab"in t&&n(0,f=t.selectedTab),"labels"in t&&n(19,h=t.labels)},t.l.update=()=>{262400&t.l.u[0]&&n(9,m="auto"===l?g>768?"split":"tabs":l),1536&t.l.u[0]&&b&&b(),6145&t.l.u[0]&&(t=>{if("tabs"!==m)return;const e="write"===t?k:y;e&&e.scroll({top:(e.scrollHeight-e.clientHeight)*E,behavior:"instant"})})(f)},[f,i,r,o,s,a,u,c,g,m,b,k,y,S,v,d,t=>{const[e,n]=t.target==k?[k,y]:[y,k];"split"==m&&"sync"==s&&M(e,n)},M,l,h,t=>{f=t,n(0,f)},t=>{i=t,n(1,i)},t=>{b=t,n(10,b)},t=>{k=t,n(11,k)},t=>{y=t,n(12,y)},()=>{"split"==m&&"sync"==s&&M(k,y)},t=>{w[t?"unshift":"push"]((()=>{v=t,n(14,v)}))},function(){g=this.clientWidth,n(8,g)}]}class Bt extends t{constructor(t){super(),e(this,t,Ht,Pt,n,{carta:2,theme:3,value:1,mode:18,scroll:4,disableToolbar:5,placeholder:6,textarea:7,selectedTab:0,labels:19},null,[-1,-1])}}function qt(t){let e,n;return{c(){e=r("div"),i(e,"class",n="carta-viewer carta-theme__"+t[0]+" markdown-body")},m(n,r){l(n,e,r),e.innerHTML=t[2],t[5](e)},p(t,[r]){4&r&&(e.innerHTML=t[2]),1&r&&n!==(n="carta-viewer carta-theme__"+t[0]+" markdown-body")&&i(e,"class",n)},i:D,o:D,d(n){n&&d(e),t[5](null)}}}function Nt(t,e,n){let r,{carta:o}=e,{value:i}=e,{theme:l="default"}=e,s=o.renderSSR(i);return p((async()=>{o.$setRenderer(r),n(2,s=await o.render(i))})),t.t=t=>{"carta"in t&&n(3,o=t.carta),"value"in t&&n(4,i=t.value),"theme"in t&&n(0,l=t.theme)},[l,r,s,o,i,t=>{w[t?"unshift":"push"]((()=>{r=t,n(1,r)}))}]}class Ut extends t{constructor(t){super(),e(this,t,Nt,qt,n,{carta:3,value:4,theme:0})}}function _t(t){if(t)throw t}var $t={}.hasOwnProperty,Vt={}.toString,Zt=Object.defineProperty,Wt=Object.getOwnPropertyDescriptor,Qt=t=>"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===Vt.call(t),Kt=t=>{if(!t||"[object Object]"!==Vt.call(t))return 0;var e,n=$t.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&$t.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return 0;for(e in t);return void 0===e||$t.call(t,e)},Yt=(t,e)=>{Zt&&"__proto__"===e.name?Zt(t,e.name,{enumerable:1,configurable:1,value:e.newValue,writable:1}):t[e.name]=e.newValue},Xt=(t,e)=>{if("__proto__"===e){if(!$t.call(t,e))return;if(Wt)return Wt(t,e).value}return t[e]},Gt=V((function t(){var e,n,r,o,i,l,s=arguments[0],a=1,u=arguments.length,c=0;for("boolean"==typeof s&&(c=s,s=arguments[1]||{},a=2),(null==s||"object"!=typeof s&&"function"!=typeof s)&&(s={});u>a;++a)if(null!=(e=arguments[a]))for(n in e)r=Xt(s,n),s!==(o=Xt(e,n))&&(c&&o&&(Kt(o)||(i=Qt(o)))?(i?(i=0,l=r&&Qt(r)?r:[]):l=r&&Kt(r)?r:{},Yt(s,{name:n,newValue:t(c,l,o)})):void 0!==o&&Yt(s,{name:n,newValue:o}));return s}));function Jt(t){if("object"!=typeof t||null===t)return 0;const e=Object.getPrototypeOf(t);return!(null!==e&&e!==Object.prototype&&null!==Object.getPrototypeOf(e)||Symbol.toStringTag in t||Symbol.iterator in t)}function te(t){return t&&"object"==typeof t?"position"in t||"type"in t?ne(t.position):"start"in t||"end"in t?ne(t):"line"in t||"column"in t?ee(t):"":""}function ee(t){return re(t&&t.line)+":"+re(t&&t.column)}function ne(t){return ee(t&&t.start)+"-"+ee(t&&t.end)}function re(t){return t&&"number"==typeof t?t:1}class oe extends Error{constructor(t,e,n){super(),"string"==typeof e&&(n=e,e=void 0);let r="",o={},i=0;if(e&&(o="line"in e&&"column"in e||"start"in e&&"end"in e?{place:e}:"type"in e?{ancestors:[e],place:e.position}:{...e}),"string"==typeof t?r=t:!o.cause&&t&&(i=1,r=t.message,o.cause=t),!o.ruleId&&!o.source&&"string"==typeof n){const t=n.indexOf(":");-1===t?o.ruleId=n:(o.source=n.slice(0,t),o.ruleId=n.slice(t+1))}if(!o.place&&o.ancestors&&o.ancestors){const t=o.ancestors[o.ancestors.length-1];t&&(o.place=t.position)}const l=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.message=r,this.line=l?l.line:void 0,this.name=te(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=i&&o.cause&&"string"==typeof o.cause.stack?o.cause.stack:""}}oe.prototype.file="",oe.prototype.name="",oe.prototype.reason="",oe.prototype.message="",oe.prototype.stack="",oe.prototype.column=void 0,oe.prototype.line=void 0,oe.prototype.ancestors=void 0,oe.prototype.cause=void 0,oe.prototype.fatal=void 0,oe.prototype.place=void 0,oe.prototype.ruleId=void 0,oe.prototype.source=void 0;const ie={basename(t,e){if(void 0!==e&&"string"!=typeof e)throw new TypeError('"ext" argument must be a string');le(t);let n,r=0,o=-1,i=t.length;if(void 0===e||0===e.length||e.length>t.length){for(;i--;)if(47===t.codePointAt(i)){if(n){r=i+1;break}}else 0>o&&(n=1,o=i+1);return 0>o?"":t.slice(r,o)}if(e===t)return"";let l=-1,s=e.length-1;for(;i--;)if(47===t.codePointAt(i)){if(n){r=i+1;break}}else 0>l&&(n=1,l=i+1),s>-1&&(t.codePointAt(i)===e.codePointAt(s--)?0>s&&(o=i):(s=-1,o=l));return r===o?o=l:0>o&&(o=t.length),t.slice(r,o)},dirname(t){if(le(t),0===t.length)return".";let e,n=-1,r=t.length;for(;--r;)if(47===t.codePointAt(r)){if(e){n=r;break}}else e||(e=1);return 0>n?47===t.codePointAt(0)?"/":".":1===n&&47===t.codePointAt(0)?"//":t.slice(0,n)},extname(t){le(t);let e,n=t.length,r=-1,o=0,i=-1,l=0;for(;n--;){const s=t.codePointAt(n);if(47!==s)0>r&&(e=1,r=n+1),46===s?0>i?i=n:1!==l&&(l=1):i>-1&&(l=-1);else if(e){o=n+1;break}}return 0>i||0>r||0===l||1===l&&i===r-1&&i===o+1?"":t.slice(i,r)},join(...t){let e,n=-1;for(;++n<t.length;)le(t[n]),t[n]&&(e=void 0===e?t[n]:e+"/"+t[n]);return void 0===e?".":(t=>{le(t);const e=47===t.codePointAt(0);let n=((t,e)=>{let n,r,o="",i=0,l=-1,s=0,a=-1;for(;++a<=t.length;){if(t.length>a)n=t.codePointAt(a);else{if(47===n)break;n=47}if(47===n){if(l===a-1||1===s);else if(l!==a-1&&2===s){if(2>o.length||2!==i||46!==o.codePointAt(o.length-1)||46!==o.codePointAt(o.length-2))if(o.length>2){if(r=o.lastIndexOf("/"),r!==o.length-1){0>r?(o="",i=0):(o=o.slice(0,r),i=o.length-1-o.lastIndexOf("/")),l=a,s=0;continue}}else if(o.length>0){o="",i=0,l=a,s=0;continue}e&&(o=o.length>0?o+"/..":"..",i=2)}else o.length>0?o+="/"+t.slice(l+1,a):o=t.slice(l+1,a),i=a-l-1;l=a,s=0}else 46===n&&s>-1?s++:s=-1}return o})(t,!e);return 0!==n.length||e||(n="."),n.length>0&&47===t.codePointAt(t.length-1)&&(n+="/"),e?"/"+n:n})(e)},sep:"/"};function le(t){if("string"!=typeof t)throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const se=()=>"/";function ae(t){return!!(null!==t&&"object"==typeof t&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&void 0===t.auth)}const ue=["history","path","basename","stem","extname","dirname"];class ce{constructor(t){let e;e=t?ae(t)?{path:t}:"string"==typeof t||(t=>!!(t&&"object"==typeof t&&"byteLength"in t&&"byteOffset"in t))(t)?{value:t}:t:{},this.cwd=se(),this.data={},this.history=[],this.messages=[];let n,r=-1;for(;++r<ue.length;){const t=ue[r];t in e&&null!=e[t]&&(this[t]="history"===t?[...e[t]]:e[t])}for(n in e)ue.includes(n)||(this[n]=e[n])}get basename(){return"string"==typeof this.path?ie.basename(this.path):void 0}set basename(t){he(t,"basename"),fe(t,"basename"),this.path=ie.join(this.dirname||"",t)}get dirname(){return"string"==typeof this.path?ie.dirname(this.path):void 0}set dirname(t){de(this.basename,"dirname"),this.path=ie.join(t||"",this.basename)}get extname(){return"string"==typeof this.path?ie.extname(this.path):void 0}set extname(t){if(fe(t,"extname"),de(this.dirname,"extname"),t){if(46!==t.codePointAt(0))throw Error("`extname` must start with `.`");if(t.includes(".",1))throw Error("`extname` cannot contain multiple dots")}this.path=ie.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){ae(t)&&(t=(t=>{if("string"==typeof t)t=new URL(t);else if(!ae(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if("file:"!==t.protocol){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return(t=>{if(""!==t.hostname){const t=new TypeError('File URL host must be "localhost" or empty on darwin');throw t.code="ERR_INVALID_FILE_URL_HOST",t}const e=t.pathname;let n=-1;for(;++n<e.length;)if(37===e.codePointAt(n)&&50===e.codePointAt(n+1)){const t=e.codePointAt(n+2);if(70===t||102===t){const t=new TypeError("File URL path must not include encoded / characters");throw t.code="ERR_INVALID_FILE_URL_PATH",t}}return decodeURIComponent(e)})(t)})(t)),he(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return"string"==typeof this.path?ie.basename(this.path,this.extname):void 0}set stem(t){he(t,"stem"),fe(t,"stem"),this.path=ie.join(this.dirname||"",t+(this.extname||""))}fail(t,e,n){const r=this.message(t,e,n);throw r.fatal=1,r}info(t,e,n){const r=this.message(t,e,n);return r.fatal=void 0,r}message(t,e,n){const r=new oe(t,e,n);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=0,this.messages.push(r),r}toString(t){return void 0===this.value?"":"string"==typeof this.value?this.value:new TextDecoder(t||void 0).decode(this.value)}}function fe(t,e){if(t&&t.includes(ie.sep))throw Error("`"+e+"` cannot be a path: did not expect `"+ie.sep+"`")}function he(t,e){if(!t)throw Error("`"+e+"` cannot be empty")}function de(t,e){if(!t)throw Error("Setting `"+e+"` requires `path` to be set too")}const pe=function(t){const e=this.constructor.prototype,n=e[t],r=function(){return n.apply(r,arguments)};Object.setPrototypeOf(r,e);const o=Object.getOwnPropertyNames(n);for(const t of o){const e=Object.getOwnPropertyDescriptor(n,t);e&&Object.defineProperty(r,t,e)}return r},ge={}.hasOwnProperty;class me extends pe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=function(){const t=[],e={run(...e){let n=-1;const r=e.pop();if("function"!=typeof r)throw new TypeError("Expected function as last argument, not "+r);!function o(i,...l){const s=t[++n];let a=-1;if(i)r(i);else{for(;++a<e.length;)null==l[a]&&(l[a]=e[a]);e=l,s?function(t,e){let n;return function(...e){const i=t.length>e.length;let l;i&&e.push(r);try{l=t.apply(this,e)}catch(t){if(i&&n)throw t;return r(t)}i||(l&&l.then&&"function"==typeof l.then?l.then(o,r):l instanceof Error?r(l):o(l))};function r(t,...r){n||(n=1,e(t,...r))}function o(t){r(null,t)}}(s,o)(...l):r(null,...l)}}(null,...e)},use(n){if("function"!=typeof n)throw new TypeError("Expected `middelware` to be a function, not "+n);return t.push(n),e}};return e}()}copy(){const t=new me;let e=-1;for(;++e<this.attachers.length;)t.use(...this.attachers[e]);return t.data(Gt(1,{},this.namespace)),t}data(t,e){return"string"==typeof t?2===arguments.length?(ye("data",this.frozen),this.namespace[t]=e,this):ge.call(this.namespace,t)&&this.namespace[t]||void 0:t?(ye("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[e,...n]=this.attachers[this.freezeIndex];if(0==n[0])continue;1==n[0]&&(n[0]=void 0);const r=e.call(t,...n);"function"==typeof r&&this.transformers.use(r)}return this.frozen=1,this.freezeIndex=1/0,this}parse(t){this.freeze();const e=Se(t),n=this.parser||this.Parser;return ve("parse",n),n(e+"",e)}process(t,e){const n=this;return this.freeze(),ve("process",this.parser||this.Parser),ke("process",this.compiler||this.Compiler),e?r(void 0,e):new Promise(r);function r(r,o){const i=Se(t),l=n.parse(i);function s(t,n){t||!n?o(t):r?r(n):e(void 0,n)}n.run(l,i,((t,e,r)=>{if(t||!e||!r)return s(t);const o=n.stringify(e,r);var i;"string"==typeof(i=o)||(t=>!!(t&&"object"==typeof t&&"byteLength"in t&&"byteOffset"in t))(i)?r.value=o:r.result=o,s(t,r)}))}}processSync(t){let e,n=0;return this.freeze(),ve("processSync",this.parser||this.Parser),ke("processSync",this.compiler||this.Compiler),this.process(t,((t,r)=>{n=1,_t(t),e=r})),we("processSync","process",n),e}run(t,e,n){xe(t),this.freeze();const r=this.transformers;return n||"function"!=typeof e||(n=e,e=void 0),n?o(void 0,n):new Promise(o);function o(o,i){const l=Se(e);r.run(t,l,((e,r,l)=>{const s=r||t;e?i(e):o?o(s):n(void 0,s,l)}))}}runSync(t,e){let n,r=0;return this.run(t,e,((t,e)=>{_t(t),n=e,r=1})),we("runSync","run",r),n}stringify(t,e){this.freeze();const n=Se(e),r=this.compiler||this.Compiler;return ke("stringify",r),xe(t),r(t,n)}use(t,...e){const n=this.attachers,r=this.namespace;if(ye("use",this.frozen),null==t);else if("function"==typeof t)s(t,e);else{if("object"!=typeof t)throw new TypeError("Expected usable value, not `"+t+"`");Array.isArray(t)?l(t):i(t)}return this;function o(t){if("function"==typeof t)s(t,[]);else{if("object"!=typeof t)throw new TypeError("Expected usable value, not `"+t+"`");if(Array.isArray(t)){const[e,...n]=t;s(e,n)}else i(t)}}function i(t){if(!("plugins"in t)&&!("settings"in t))throw Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(t.plugins),t.settings&&(r.settings=Gt(1,r.settings,t.settings))}function l(t){let e=-1;if(null==t);else{if(!Array.isArray(t))throw new TypeError("Expected a list of plugins, not `"+t+"`");for(;++e<t.length;)o(t[e])}}function s(t,e){let r=-1,o=-1;for(;++r<n.length;)if(n[r][0]===t){o=r;break}if(-1===o)n.push([t,...e]);else if(e.length>0){let[r,...i]=e;const l=n[o][1];Jt(l)&&Jt(r)&&(r=Gt(1,l,r)),n[o]=[t,r,...i]}}}}const be=(new me).freeze();function ve(t,e){if("function"!=typeof e)throw new TypeError("Cannot `"+t+"` without `parser`")}function ke(t,e){if("function"!=typeof e)throw new TypeError("Cannot `"+t+"` without `compiler`")}function ye(t,e){if(e)throw Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function xe(t){if(!Jt(t)||"string"!=typeof t.type)throw new TypeError("Expected node, got `"+t+"`")}function we(t,e,n){if(!n)throw Error("`"+t+"` finished async. Use `"+e+"` instead")}function Se(t){return(t=>!!(t&&"object"==typeof t&&"message"in t&&"messages"in t))(t)?t:new ce(t)}const Ee={};function Ce(t,e){return Me(t,"boolean"==typeof Ee.includeImageAlt?Ee.includeImageAlt:1,"boolean"==typeof Ee.includeHtml?Ee.includeHtml:1)}function Me(t,e,n){if((t=>!(!t||"object"!=typeof t))(t)){if("value"in t)return"html"!==t.type||n?t.value:"";if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return Te(t.children,e,n)}return Array.isArray(t)?Te(t,e,n):""}function Te(t,e,n){const r=[];let o=-1;for(;++o<t.length;)r[o]=Me(t[o],e,n);return r.join("")}const Oe=document.createElement("i");function De(t){const e="&"+t+";";Oe.innerHTML=e;const n=Oe.textContent;return 59===n.charCodeAt(n.length-1)&&"semi"!==t||n===e?0:n}function Le(t,e,n,r){const o=t.length;let i,l=0;if(e=0>e?-e>o?0:o+e:e>o?o:e,n=n>0?n:0,1e4>r.length)i=Array.from(r),i.unshift(e,n),t.splice(...i);else for(n&&t.splice(e,n);r.length>l;)i=r.slice(l,l+1e4),i.unshift(e,0),t.splice(...i),l+=1e4,e+=1e4}function Ae(t,e){return t.length>0?(Le(t,t.length,0,e),t):e}const Fe={}.hasOwnProperty;function Re(t){const e={};let n=-1;for(;++n<t.length;)Pe(e,t[n]);return e}function Pe(t,e){let n;for(n in e){const r=(Fe.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n];let i;if(o)for(i in o){Fe.call(r,i)||(r[i]=[]);const t=o[i];Ie(r[i],Array.isArray(t)?t:t?[t]:[])}}}function Ie(t,e){let n=-1;const r=[];for(;++n<e.length;)("after"===e[n].add?t:r).push(e[n]);Le(t,0,0,r)}function je(t,e){const n=Number.parseInt(t,e);return 9>n||11===n||n>13&&32>n||n>126&&160>n||n>55295&&57344>n||n>64975&&65008>n||!(65535&~n)||65534==(65535&n)||n>1114111?"�":String.fromCodePoint(n)}function ze(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const He=Ye(/[A-Za-z]/),Be=Ye(/[\dA-Za-z]/),qe=Ye(/[#-'*+\--9=?A-Z^-~]/);function Ne(t){return null!==t&&(32>t||127===t)}const Ue=Ye(/\d/),_e=Ye(/[\dA-Fa-f]/),$e=Ye(/[!-/:-@[-`{-~]/);function Ve(t){return null!==t&&-2>t}function Ze(t){return null!==t&&(0>t||32===t)}function We(t){return-2===t||-1===t||32===t}const Qe=Ye(/\p{P}|\p{S}/u),Ke=Ye(/\s/);function Ye(t){return e=>null!==e&&e>-1&&t.test(String.fromCharCode(e))}function Xe(t){const e=[];let n=-1,r=0,o=0;for(;++n<t.length;){const i=t.charCodeAt(n);let l="";if(37===i&&Be(t.charCodeAt(n+1))&&Be(t.charCodeAt(n+2)))o=2;else if(128>i)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(l=String.fromCharCode(i));else if(i>55295&&57344>i){const e=t.charCodeAt(n+1);56320>i&&e>56319&&57344>e?(l=String.fromCharCode(i,e),o=1):l="�"}else l=String.fromCharCode(i);l&&(e.push(t.slice(r,n),encodeURIComponent(l)),r=n+o+1,l=""),o&&(n+=o,o=0)}return e.join("")+t.slice(r)}function Ge(t,e,n,r){const o=r?r-1:1/0;let i=0;return r=>We(r)?(t.enter(n),l(r)):e(r);function l(r){return We(r)&&i++<o?(t.consume(r),l):(t.exit(n),e(r))}}const Je={tokenize(t){const e=t.attempt(this.parser.constructs.contentInitial,(n=>{if(null!==n)return t.enter("lineEnding"),t.consume(n),t.exit("lineEnding"),Ge(t,e,"linePrefix");t.consume(n)}),(e=>(t.enter("paragraph"),r(e))));let n;return e;function r(e){const r=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=r),n=r,o(e)}function o(e){return null===e?(t.exit("chunkText"),t.exit("paragraph"),void t.consume(e)):Ve(e)?(t.consume(e),t.exit("chunkText"),r):(t.consume(e),o)}}},tn={tokenize(t){const e=this,n=[];let r,o,i,l=0;return s;function s(r){if(n.length>l){const o=n[l];return e.containerState=o[1],t.attempt(o[0].continuation,a,u)(r)}return u(r)}function a(t){if(l++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,r&&v();const n=e.events.length;let o,i=n;for(;i--;)if("exit"===e.events[i][0]&&"chunkFlow"===e.events[i][1].type){o=e.events[i][1].end;break}b(l);let s=n;for(;e.events.length>s;)e.events[s][1].end=Object.assign({},o),s++;return Le(e.events,i+1,0,e.events.slice(n)),e.events.length=s,u(t)}return s(t)}function u(o){if(l===n.length){if(!r)return h(o);if(r.currentConstruct&&r.currentConstruct.concrete)return p(o);e.interrupt=!(!r.currentConstruct||r._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(en,c,f)(o)}function c(t){return r&&v(),b(l),h(t)}function f(t){return e.parser.lazy[e.now().line]=l!==n.length,i=e.now().offset,p(t)}function h(n){return e.containerState={},t.attempt(en,d,p)(n)}function d(t){return l++,n.push([e.currentConstruct,e.containerState]),h(t)}function p(n){return null===n?(r&&v(),b(0),void t.consume(n)):(r=r||e.parser.flow(e.now()),t.enter("chunkFlow",{contentType:"flow",previous:o,_tokenizer:r}),g(n))}function g(n){return null===n?(m(t.exit("chunkFlow"),1),b(0),void t.consume(n)):Ve(n)?(t.consume(n),m(t.exit("chunkFlow")),l=0,e.interrupt=void 0,s):(t.consume(n),g)}function m(t,n){const s=e.sliceStream(t);if(n&&s.push(null),t.previous=o,o&&(o.next=t),o=t,r.defineSkip(t.start),r.write(s),e.parser.lazy[t.start.line]){let t=r.events.length;for(;t--;)if(i>r.events[t][1].start.offset&&(!r.events[t][1].end||r.events[t][1].end.offset>i))return;const n=e.events.length;let o,s,a=n;for(;a--;)if("exit"===e.events[a][0]&&"chunkFlow"===e.events[a][1].type){if(o){s=e.events[a][1].end;break}o=1}for(b(l),t=n;e.events.length>t;)e.events[t][1].end=Object.assign({},s),t++;Le(e.events,a+1,0,e.events.slice(n)),e.events.length=t}}function b(r){let o=n.length;for(;o-- >r;){const r=n[o];e.containerState=r[1],r[0].exit.call(e,t)}n.length=r}function v(){r.write([null]),o=void 0,r=void 0,e.containerState._closeFlow=void 0}}},en={tokenize(t,e,n){return Ge(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}};function nn(t){return null===t||Ze(t)||Ke(t)?1:Qe(t)?2:void 0}function rn(t,e,n){const r=[];let o=-1;for(;++o<t.length;){const i=t[o].resolveAll;i&&!r.includes(i)&&(e=i(e,n),r.push(i))}return e}const on={name:"attention",tokenize(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,o=nn(r);let i;return e=>(i=e,t.enter("attentionSequence"),l(e));function l(s){if(s===i)return t.consume(s),l;const a=t.exit("attentionSequence"),u=nn(s),c=!u||2===u&&o||n.includes(s),f=!o||2===o&&u||n.includes(r);return a._open=!!(42===i?c:c&&(o||!f)),a._close=!!(42===i?f:f&&(u||!c)),e(s)}},resolveAll(t,e){let n,r,o,i,l,s,a,u,c=-1;for(;++c<t.length;)if("enter"===t[c][0]&&"attentionSequence"===t[c][1].type&&t[c][1]._close)for(n=c;n--;)if("exit"===t[n][0]&&"attentionSequence"===t[n][1].type&&t[n][1]._open&&e.sliceSerialize(t[n][1]).charCodeAt(0)===e.sliceSerialize(t[c][1]).charCodeAt(0)){if((t[n][1]._close||t[c][1]._open)&&(t[c][1].end.offset-t[c][1].start.offset)%3&&!((t[n][1].end.offset-t[n][1].start.offset+t[c][1].end.offset-t[c][1].start.offset)%3))continue;s=t[n][1].end.offset-t[n][1].start.offset>1&&t[c][1].end.offset-t[c][1].start.offset>1?2:1;const f=Object.assign({},t[n][1].end),h=Object.assign({},t[c][1].start);ln(f,-s),ln(h,s),i={type:s>1?"strongSequence":"emphasisSequence",start:f,end:Object.assign({},t[n][1].end)},l={type:s>1?"strongSequence":"emphasisSequence",start:Object.assign({},t[c][1].start),end:h},o={type:s>1?"strongText":"emphasisText",start:Object.assign({},t[n][1].end),end:Object.assign({},t[c][1].start)},r={type:s>1?"strong":"emphasis",start:Object.assign({},i.start),end:Object.assign({},l.end)},t[n][1].end=Object.assign({},i.start),t[c][1].start=Object.assign({},l.end),a=[],t[n][1].end.offset-t[n][1].start.offset&&(a=Ae(a,[["enter",t[n][1],e],["exit",t[n][1],e]])),a=Ae(a,[["enter",r,e],["enter",i,e],["exit",i,e],["enter",o,e]]),a=Ae(a,rn(e.parser.constructs.insideSpan.null,t.slice(n+1,c),e)),a=Ae(a,[["exit",o,e],["enter",l,e],["exit",l,e],["exit",r,e]]),t[c][1].end.offset-t[c][1].start.offset?(u=2,a=Ae(a,[["enter",t[c][1],e],["exit",t[c][1],e]])):u=0,Le(t,n-1,c-n+3,a),c=n+a.length-u-2;break}for(c=-1;++c<t.length;)"attentionSequence"===t[c][1].type&&(t[c][1].type="data");return t}};function ln(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const sn={name:"autolink",tokenize(t,e,n){let r=0;return e=>(t.enter("autolink"),t.enter("autolinkMarker"),t.consume(e),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o);function o(e){return He(e)?(t.consume(e),i):64===e?n(e):a(e)}function i(t){return 43===t||45===t||46===t||Be(t)?(r=1,l(t)):a(t)}function l(e){return 58===e?(t.consume(e),r=0,s):(43===e||45===e||46===e||Be(e))&&32>r++?(t.consume(e),l):(r=0,a(e))}function s(r){return 62===r?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(r),t.exit("autolinkMarker"),t.exit("autolink"),e):null===r||32===r||60===r||Ne(r)?n(r):(t.consume(r),s)}function a(e){return 64===e?(t.consume(e),u):qe(e)?(t.consume(e),a):n(e)}function u(t){return Be(t)?c(t):n(t)}function c(n){return 46===n?(t.consume(n),r=0,u):62===n?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(n),t.exit("autolinkMarker"),t.exit("autolink"),e):f(n)}function f(e){if((45===e||Be(e))&&63>r++){const n=45===e?f:c;return t.consume(e),n}return n(e)}}},an={tokenize(t,e,n){return e=>We(e)?Ge(t,r,"linePrefix")(e):r(e);function r(t){return null===t||Ve(t)?e(t):n(t)}},partial:1},un={name:"blockQuote",tokenize(t,e,n){const r=this;return e=>{if(62===e){const n=r.containerState;return n.open||(t.enter("blockQuote",{_container:1}),n.open=1),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(e),t.exit("blockQuoteMarker"),o}return n(e)};function o(n){return We(n)?(t.enter("blockQuotePrefixWhitespace"),t.consume(n),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(n))}},continuation:{tokenize(t,e,n){const r=this;return e=>We(e)?Ge(t,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(e):o(e);function o(r){return t.attempt(un,e,n)(r)}}},exit(t){t.exit("blockQuote")}},cn={name:"characterEscape",tokenize(t,e,n){return e=>(t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(e),t.exit("escapeMarker"),r);function r(r){return $e(r)?(t.enter("characterEscapeValue"),t.consume(r),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(r)}}},fn={name:"characterReference",tokenize(t,e,n){const r=this;let o,i,l=0;return e=>(t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(e),t.exit("characterReferenceMarker"),s);function s(e){return 35===e?(t.enter("characterReferenceMarkerNumeric"),t.consume(e),t.exit("characterReferenceMarkerNumeric"),a):(t.enter("characterReferenceValue"),o=31,i=Be,u(e))}function a(e){return 88===e||120===e?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(e),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,i=_e,u):(t.enter("characterReferenceValue"),o=7,i=Ue,u(e))}function u(s){if(59===s&&l){const o=t.exit("characterReferenceValue");return i!==Be||De(r.sliceSerialize(o))?(t.enter("characterReferenceMarker"),t.consume(s),t.exit("characterReferenceMarker"),t.exit("characterReference"),e):n(s)}return i(s)&&l++<o?(t.consume(s),u):n(s)}}},hn={tokenize(t,e,n){const r=this;return e=>null===e?n(e):(t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),o);function o(t){return r.parser.lazy[r.now().line]?n(t):e(t)}},partial:1},dn={name:"codeFenced",tokenize(t,e,n){const r=this,o={tokenize(t,e,n){let o=0;return e=>(t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),l);function l(e){return t.enter("codeFencedFence"),We(e)?Ge(t,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(e):a(e)}function a(e){return e===i?(t.enter("codeFencedFenceSequence"),u(e)):n(e)}function u(e){return e===i?(o++,t.consume(e),u):s>o?n(e):(t.exit("codeFencedFenceSequence"),We(e)?Ge(t,c,"whitespace")(e):c(e))}function c(r){return null===r||Ve(r)?(t.exit("codeFencedFence"),e(r)):n(r)}},partial:1};let i,l=0,s=0;return e=>(e=>{const n=r.events[r.events.length-1];return l=n&&"linePrefix"===n[1].type?n[2].sliceSerialize(n[1],1).length:0,i=e,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),a(e)})(e);function a(e){return e===i?(s++,t.consume(e),a):3>s?n(e):(t.exit("codeFencedFenceSequence"),We(e)?Ge(t,u,"whitespace")(e):u(e))}function u(n){return null===n||Ve(n)?(t.exit("codeFencedFence"),r.interrupt?e(n):t.check(hn,d,v)(n)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),c(n))}function c(e){return null===e||Ve(e)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),u(e)):We(e)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Ge(t,f,"whitespace")(e)):96===e&&e===i?n(e):(t.consume(e),c)}function f(e){return null===e||Ve(e)?u(e):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),h(e))}function h(e){return null===e||Ve(e)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),u(e)):96===e&&e===i?n(e):(t.consume(e),h)}function d(e){return t.attempt(o,v,p)(e)}function p(e){return t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),g}function g(e){return l>0&&We(e)?Ge(t,m,"linePrefix",l+1)(e):m(e)}function m(e){return null===e||Ve(e)?t.check(hn,d,v)(e):(t.enter("codeFlowValue"),b(e))}function b(e){return null===e||Ve(e)?(t.exit("codeFlowValue"),m(e)):(t.consume(e),b)}function v(n){return t.exit("codeFenced"),e(n)}},concrete:1},pn={name:"codeIndented",tokenize(t,e,n){const r=this;return e=>(t.enter("codeIndented"),Ge(t,o,"linePrefix",5)(e));function o(t){const e=r.events[r.events.length-1];return e&&"linePrefix"===e[1].type&&e[2].sliceSerialize(e[1],1).length>=4?i(t):n(t)}function i(e){return null===e?s(e):Ve(e)?t.attempt(gn,i,s)(e):(t.enter("codeFlowValue"),l(e))}function l(e){return null===e||Ve(e)?(t.exit("codeFlowValue"),i(e)):(t.consume(e),l)}function s(n){return t.exit("codeIndented"),e(n)}}},gn={tokenize(t,e,n){const r=this;return o;function o(e){return r.parser.lazy[r.now().line]?n(e):Ve(e)?(t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),o):Ge(t,i,"linePrefix",5)(e)}function i(t){const i=r.events[r.events.length-1];return i&&"linePrefix"===i[1].type&&i[2].sliceSerialize(i[1],1).length>=4?e(t):Ve(t)?o(t):n(t)}},partial:1},mn={name:"codeText",tokenize(t,e,n){let r,o,i=0;return e=>(t.enter("codeText"),t.enter("codeTextSequence"),l(e));function l(e){return 96===e?(t.consume(e),i++,l):(t.exit("codeTextSequence"),s(e))}function s(e){return null===e?n(e):32===e?(t.enter("space"),t.consume(e),t.exit("space"),s):96===e?(o=t.enter("codeTextSequence"),r=0,u(e)):Ve(e)?(t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),s):(t.enter("codeTextData"),a(e))}function a(e){return null===e||32===e||96===e||Ve(e)?(t.exit("codeTextData"),s(e)):(t.consume(e),a)}function u(n){return 96===n?(t.consume(n),r++,u):r===i?(t.exit("codeTextSequence"),t.exit("codeText"),e(n)):(o.type="codeTextData",a(n))}},resolve(t){let e,n,r=t.length-4,o=3;if(!("lineEnding"!==t[o][1].type&&"space"!==t[o][1].type||"lineEnding"!==t[r][1].type&&"space"!==t[r][1].type))for(e=o;++e<r;)if("codeTextData"===t[e][1].type){t[o][1].type="codeTextPadding",t[r][1].type="codeTextPadding",o+=2,r-=2;break}for(e=o-1,r++;++e<=r;)void 0===n?e!==r&&"lineEnding"!==t[e][1].type&&(n=e):e!==r&&"lineEnding"!==t[e][1].type||(t[n][1].type="codeTextData",e!==n+2&&(t[n][1].end=t[e-1][1].end,t.splice(n+2,e-n-2),r-=e-n-2,e=n+2),n=void 0);return t},previous(t){return 96!==t||"characterEscape"===this.events[this.events.length-1][1].type}};class bn{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(0>t||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return this.left.length>t?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,e){const n=null==e?1/0:e;return this.left.length>n?this.left.slice(t,n):t>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(t,e,n){const r=e||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-r,1/0);return n&&vn(this.left,n),o.reverse()}pop(){return this.setCursor(1/0),this.left.pop()}push(t){this.setCursor(1/0),this.left.push(t)}pushMany(t){this.setCursor(1/0),vn(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),vn(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&0===this.right.length||0>t&&0===this.left.length))if(this.left.length>t){const e=this.left.splice(t,1/0);vn(this.right,e.reverse())}else{const e=this.right.splice(this.left.length+this.right.length-t,1/0);vn(this.left,e.reverse())}}}function vn(t,e){let n=0;if(1e4>e.length)t.push(...e);else for(;e.length>n;)t.push(...e.slice(n,n+1e4)),n+=1e4}function kn(t){const e={};let n,r,o,i,l,s,a,u=-1;const c=new bn(t);for(;++u<c.length;){for(;u in e;)u=e[u];if(n=c.get(u),u&&"chunkFlow"===n[1].type&&"listItemPrefix"===c.get(u-1)[1].type&&(s=n[1]._tokenizer.events,o=0,s.length>o&&"lineEndingBlank"===s[o][1].type&&(o+=2),s.length>o&&"content"===s[o][1].type))for(;++o<s.length&&"content"!==s[o][1].type;)"chunkText"===s[o][1].type&&(s[o][1]._isInFirstContentOfListItem=1,o++);if("enter"===n[0])n[1].contentType&&(Object.assign(e,yn(c,u)),u=e[u],a=1);else if(n[1]._container){for(o=u,r=void 0;o--&&(i=c.get(o),"lineEnding"===i[1].type||"lineEndingBlank"===i[1].type);)"enter"===i[0]&&(r&&(c.get(r)[1].type="lineEndingBlank"),i[1].type="lineEnding",r=o);r&&(n[1].end=Object.assign({},c.get(r)[1].start),l=c.slice(r,u),l.unshift(n),c.splice(r,u-r+1,l))}}return Le(t,0,1/0,c.slice(0)),!a}function yn(t,e){const n=t.get(e)[1],r=t.get(e)[2];let o=e-1;const i=[],l=n._tokenizer||r.parser[n.contentType](n.start),s=l.events,a=[],u={};let c,f,h=-1,d=n,p=0,g=0;const m=[g];for(;d;){for(;t.get(++o)[1]!==d;);i.push(o),d._tokenizer||(c=r.sliceStream(d),d.next||c.push(null),f&&l.defineSkip(d.start),d._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=1),l.write(c),d._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),f=d,d=d.next}for(d=n;++h<s.length;)"exit"===s[h][0]&&"enter"===s[h-1][0]&&s[h][1].type===s[h-1][1].type&&s[h][1].start.line!==s[h][1].end.line&&(g=h+1,m.push(g),d._tokenizer=void 0,d.previous=void 0,d=d.next);for(l.events=[],d?(d._tokenizer=void 0,d.previous=void 0):m.pop(),h=m.length;h--;){const e=s.slice(m[h],m[h+1]),n=i.pop();a.push([n,n+e.length-1]),t.splice(n,2,e)}for(a.reverse(),h=-1;++h<a.length;)u[p+a[h][0]]=p+a[h][1],p+=a[h][1]-a[h][0]-1;return u}const xn={tokenize(t,e){let n;return e=>(t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),r(e));function r(e){return null===e?o(e):Ve(e)?t.check(wn,i,o)(e):(t.consume(e),r)}function o(n){return t.exit("chunkContent"),t.exit("content"),e(n)}function i(e){return t.consume(e),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}},resolve(t){return kn(t),t}},wn={tokenize(t,e,n){const r=this;return e=>(t.exit("chunkContent"),t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),Ge(t,o,"linePrefix"));function o(o){if(null===o||Ve(o))return n(o);const i=r.events[r.events.length-1];return r.parser.constructs.disable.null.includes("codeIndented")||!i||"linePrefix"!==i[1].type||4>i[2].sliceSerialize(i[1],1).length?t.interrupt(r.parser.constructs.flow,n,e)(o):e(o)}},partial:1};function Sn(t,e,n,r,o,i,l,s,a){const u=a||1/0;let c=0;return e=>60===e?(t.enter(r),t.enter(o),t.enter(i),t.consume(e),t.exit(i),f):null===e||32===e||41===e||Ne(e)?n(e):(t.enter(r),t.enter(l),t.enter(s),t.enter("chunkString",{contentType:"string"}),p(e));function f(n){return 62===n?(t.enter(i),t.consume(n),t.exit(i),t.exit(o),t.exit(r),e):(t.enter(s),t.enter("chunkString",{contentType:"string"}),h(n))}function h(e){return 62===e?(t.exit("chunkString"),t.exit(s),f(e)):null===e||60===e||Ve(e)?n(e):(t.consume(e),92===e?d:h)}function d(e){return 60===e||62===e||92===e?(t.consume(e),h):h(e)}function p(o){return c||null!==o&&41!==o&&!Ze(o)?u>c&&40===o?(t.consume(o),c++,p):41===o?(t.consume(o),c--,p):null===o||32===o||40===o||Ne(o)?n(o):(t.consume(o),92===o?g:p):(t.exit("chunkString"),t.exit(s),t.exit(l),t.exit(r),e(o))}function g(e){return 40===e||41===e||92===e?(t.consume(e),p):p(e)}}function En(t,e,n,r,o,i){const l=this;let s,a=0;return e=>(t.enter(r),t.enter(o),t.consume(e),t.exit(o),t.enter(i),u);function u(f){return a>999||null===f||91===f||93===f&&!s||94===f&&!a&&"_hiddenFootnoteSupport"in l.parser.constructs?n(f):93===f?(t.exit(i),t.enter(o),t.consume(f),t.exit(o),t.exit(r),e):Ve(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),u):(t.enter("chunkString",{contentType:"string"}),c(f))}function c(e){return null===e||91===e||93===e||Ve(e)||a++>999?(t.exit("chunkString"),u(e)):(t.consume(e),s||(s=!We(e)),92===e?f:c)}function f(e){return 91===e||92===e||93===e?(t.consume(e),a++,c):c(e)}}function Cn(t,e,n,r,o,i){let l;return e=>34===e||39===e||40===e?(t.enter(r),t.enter(o),t.consume(e),t.exit(o),l=40===e?41:e,s):n(e);function s(n){return n===l?(t.enter(o),t.consume(n),t.exit(o),t.exit(r),e):(t.enter(i),a(n))}function a(e){return e===l?(t.exit(i),s(l)):null===e?n(e):Ve(e)?(t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),Ge(t,a,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),u(e))}function u(e){return e===l||null===e||Ve(e)?(t.exit("chunkString"),a(e)):(t.consume(e),92===e?c:u)}function c(e){return e===l||92===e?(t.consume(e),u):u(e)}}function Mn(t,e){let n;return function r(o){return Ve(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),n=1,r):We(o)?Ge(t,r,n?"linePrefix":"lineSuffix")(o):e(o)}}const Tn={name:"definition",tokenize(t,e,n){const r=this;let o;return e=>(t.enter("definition"),(e=>En.call(r,t,i,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(e))(e));function i(e){return o=ze(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),58===e?(t.enter("definitionMarker"),t.consume(e),t.exit("definitionMarker"),l):n(e)}function l(e){return Ze(e)?Mn(t,s)(e):s(e)}function s(e){return Sn(t,a,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(e)}function a(e){return t.attempt(On,u,u)(e)}function u(e){return We(e)?Ge(t,c,"whitespace")(e):c(e)}function c(i){return null===i||Ve(i)?(t.exit("definition"),r.parser.defined.push(o),e(i)):n(i)}}},On={tokenize(t,e,n){return e=>Ze(e)?Mn(t,r)(e):n(e);function r(e){return Cn(t,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(e)}function o(e){return We(e)?Ge(t,i,"whitespace")(e):i(e)}function i(t){return null===t||Ve(t)?e(t):n(t)}},partial:1},Dn={name:"hardBreakEscape",tokenize(t,e,n){return e=>(t.enter("hardBreakEscape"),t.consume(e),r);function r(r){return Ve(r)?(t.exit("hardBreakEscape"),e(r)):n(r)}}},Ln={name:"headingAtx",tokenize(t,e,n){let r=0;return e=>(t.enter("atxHeading"),(e=>(t.enter("atxHeadingSequence"),o(e)))(e));function o(e){return 35===e&&6>r++?(t.consume(e),o):null===e||Ze(e)?(t.exit("atxHeadingSequence"),i(e)):n(e)}function i(n){return 35===n?(t.enter("atxHeadingSequence"),l(n)):null===n||Ve(n)?(t.exit("atxHeading"),e(n)):We(n)?Ge(t,i,"whitespace")(n):(t.enter("atxHeadingText"),s(n))}function l(e){return 35===e?(t.consume(e),l):(t.exit("atxHeadingSequence"),i(e))}function s(e){return null===e||35===e||Ze(e)?(t.exit("atxHeadingText"),i(e)):(t.consume(e),s)}},resolve(t,e){let n,r,o=t.length-2,i=3;return"whitespace"===t[i][1].type&&(i+=2),o-2>i&&"whitespace"===t[o][1].type&&(o-=2),"atxHeadingSequence"===t[o][1].type&&(i===o-1||o-4>i&&"whitespace"===t[o-2][1].type)&&(o-=i+1===o?2:4),o>i&&(n={type:"atxHeadingText",start:t[i][1].start,end:t[o][1].end},r={type:"chunkText",start:t[i][1].start,end:t[o][1].end,contentType:"text"},Le(t,i,o-i+1,[["enter",n,e],["enter",r,e],["exit",r,e],["exit",n,e]])),t}},An=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Fn=["pre","script","style","textarea"],Rn={name:"htmlFlow",tokenize(t,e,n){const r=this;let o,i,l,s,a;return e=>(e=>(t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(e),u))(e);function u(s){return 33===s?(t.consume(s),c):47===s?(t.consume(s),i=1,d):63===s?(t.consume(s),o=3,r.interrupt?e:P):He(s)?(t.consume(s),l=String.fromCharCode(s),p):n(s)}function c(i){return 45===i?(t.consume(i),o=2,f):91===i?(t.consume(i),o=5,s=0,h):He(i)?(t.consume(i),o=4,r.interrupt?e:P):n(i)}function f(o){return 45===o?(t.consume(o),r.interrupt?e:P):n(o)}function h(o){return o==="CDATA[".charCodeAt(s++)?(t.consume(o),6===s?r.interrupt?e:M:h):n(o)}function d(e){return He(e)?(t.consume(e),l=String.fromCharCode(e),p):n(e)}function p(s){if(null===s||47===s||62===s||Ze(s)){const a=47===s,u=l.toLowerCase();return a||i||!Fn.includes(u)?An.includes(l.toLowerCase())?(o=6,a?(t.consume(s),g):r.interrupt?e(s):M(s)):(o=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(s):i?m(s):b(s)):(o=1,r.interrupt?e(s):M(s))}return 45===s||Be(s)?(t.consume(s),l+=String.fromCharCode(s),p):n(s)}function g(o){return 62===o?(t.consume(o),r.interrupt?e:M):n(o)}function m(e){return We(e)?(t.consume(e),m):E(e)}function b(e){return 47===e?(t.consume(e),E):58===e||95===e||He(e)?(t.consume(e),v):We(e)?(t.consume(e),b):E(e)}function v(e){return 45===e||46===e||58===e||95===e||Be(e)?(t.consume(e),v):k(e)}function k(e){return 61===e?(t.consume(e),y):We(e)?(t.consume(e),k):b(e)}function y(e){return null===e||60===e||61===e||62===e||96===e?n(e):34===e||39===e?(t.consume(e),a=e,x):We(e)?(t.consume(e),y):w(e)}function x(e){return e===a?(t.consume(e),a=null,S):null===e||Ve(e)?n(e):(t.consume(e),x)}function w(e){return null===e||34===e||39===e||47===e||60===e||61===e||62===e||96===e||Ze(e)?k(e):(t.consume(e),w)}function S(t){return 47===t||62===t||We(t)?b(t):n(t)}function E(e){return 62===e?(t.consume(e),C):n(e)}function C(e){return null===e||Ve(e)?M(e):We(e)?(t.consume(e),C):n(e)}function M(e){return 45===e&&2===o?(t.consume(e),L):60===e&&1===o?(t.consume(e),A):62===e&&4===o?(t.consume(e),I):63===e&&3===o?(t.consume(e),P):93===e&&5===o?(t.consume(e),R):!Ve(e)||6!==o&&7!==o?null===e||Ve(e)?(t.exit("htmlFlowData"),T(e)):(t.consume(e),M):(t.exit("htmlFlowData"),t.check(Pn,j,T)(e))}function T(e){return t.check(In,O,j)(e)}function O(e){return t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),D}function D(e){return null===e||Ve(e)?T(e):(t.enter("htmlFlowData"),M(e))}function L(e){return 45===e?(t.consume(e),P):M(e)}function A(e){return 47===e?(t.consume(e),l="",F):M(e)}function F(e){if(62===e){const n=l.toLowerCase();return Fn.includes(n)?(t.consume(e),I):M(e)}return He(e)&&8>l.length?(t.consume(e),l+=String.fromCharCode(e),F):M(e)}function R(e){return 93===e?(t.consume(e),P):M(e)}function P(e){return 62===e?(t.consume(e),I):45===e&&2===o?(t.consume(e),P):M(e)}function I(e){return null===e||Ve(e)?(t.exit("htmlFlowData"),j(e)):(t.consume(e),I)}function j(n){return t.exit("htmlFlow"),e(n)}},resolveTo(t){let e=t.length;for(;e--&&("enter"!==t[e][0]||"htmlFlow"!==t[e][1].type););return e>1&&"linePrefix"===t[e-2][1].type&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t},concrete:1},Pn={tokenize(t,e,n){return r=>(t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),t.attempt(an,e,n))},partial:1},In={tokenize(t,e,n){const r=this;return e=>Ve(e)?(t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),o):n(e);function o(t){return r.parser.lazy[r.now().line]?n(t):e(t)}},partial:1},jn={name:"htmlText",tokenize(t,e,n){const r=this;let o,i,l;return e=>(t.enter("htmlText"),t.enter("htmlTextData"),t.consume(e),s);function s(e){return 33===e?(t.consume(e),a):47===e?(t.consume(e),y):63===e?(t.consume(e),v):He(e)?(t.consume(e),S):n(e)}function a(e){return 45===e?(t.consume(e),u):91===e?(t.consume(e),i=0,d):He(e)?(t.consume(e),b):n(e)}function u(e){return 45===e?(t.consume(e),h):n(e)}function c(e){return null===e?n(e):45===e?(t.consume(e),f):Ve(e)?(l=c,F(e)):(t.consume(e),c)}function f(e){return 45===e?(t.consume(e),h):c(e)}function h(t){return 62===t?A(t):45===t?f(t):c(t)}function d(e){return e==="CDATA[".charCodeAt(i++)?(t.consume(e),6===i?p:d):n(e)}function p(e){return null===e?n(e):93===e?(t.consume(e),g):Ve(e)?(l=p,F(e)):(t.consume(e),p)}function g(e){return 93===e?(t.consume(e),m):p(e)}function m(e){return 62===e?A(e):93===e?(t.consume(e),m):p(e)}function b(e){return null===e||62===e?A(e):Ve(e)?(l=b,F(e)):(t.consume(e),b)}function v(e){return null===e?n(e):63===e?(t.consume(e),k):Ve(e)?(l=v,F(e)):(t.consume(e),v)}function k(t){return 62===t?A(t):v(t)}function y(e){return He(e)?(t.consume(e),x):n(e)}function x(e){return 45===e||Be(e)?(t.consume(e),x):w(e)}function w(e){return Ve(e)?(l=w,F(e)):We(e)?(t.consume(e),w):A(e)}function S(e){return 45===e||Be(e)?(t.consume(e),S):47===e||62===e||Ze(e)?E(e):n(e)}function E(e){return 47===e?(t.consume(e),A):58===e||95===e||He(e)?(t.consume(e),C):Ve(e)?(l=E,F(e)):We(e)?(t.consume(e),E):A(e)}function C(e){return 45===e||46===e||58===e||95===e||Be(e)?(t.consume(e),C):M(e)}function M(e){return 61===e?(t.consume(e),T):Ve(e)?(l=M,F(e)):We(e)?(t.consume(e),M):E(e)}function T(e){return null===e||60===e||61===e||62===e||96===e?n(e):34===e||39===e?(t.consume(e),o=e,O):Ve(e)?(l=T,F(e)):We(e)?(t.consume(e),T):(t.consume(e),D)}function O(e){return e===o?(t.consume(e),o=void 0,L):null===e?n(e):Ve(e)?(l=O,F(e)):(t.consume(e),O)}function D(e){return null===e||34===e||39===e||60===e||61===e||96===e?n(e):47===e||62===e||Ze(e)?E(e):(t.consume(e),D)}function L(t){return 47===t||62===t||Ze(t)?E(t):n(t)}function A(r){return 62===r?(t.consume(r),t.exit("htmlTextData"),t.exit("htmlText"),e):n(r)}function F(e){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),R}function R(e){return We(e)?Ge(t,P,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(e):P(e)}function P(e){return t.enter("htmlTextData"),l(e)}}},zn={name:"labelEnd",tokenize(t,e,n){const r=this;let o,i,l=r.events.length;for(;l--;)if(("labelImage"===r.events[l][1].type||"labelLink"===r.events[l][1].type)&&!r.events[l][1]._balanced){o=r.events[l][1];break}return e=>o?o._inactive?c(e):(i=r.parser.defined.includes(ze(r.sliceSerialize({start:o.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(e),t.exit("labelMarker"),t.exit("labelEnd"),s):n(e);function s(e){return 40===e?t.attempt(Hn,u,i?u:c)(e):91===e?t.attempt(Bn,u,i?a:c)(e):i?u(e):c(e)}function a(e){return t.attempt(qn,u,c)(e)}function u(t){return e(t)}function c(t){return o._balanced=1,n(t)}},resolveTo(t,e){let n,r,o,i,l=t.length,s=0;for(;l--;)if(n=t[l][1],r){if("link"===n.type||"labelLink"===n.type&&n._inactive)break;"enter"===t[l][0]&&"labelLink"===n.type&&(n._inactive=1)}else if(o){if("enter"===t[l][0]&&("labelImage"===n.type||"labelLink"===n.type)&&!n._balanced&&(r=l,"labelLink"!==n.type)){s=2;break}}else"labelEnd"===n.type&&(o=l);const a={type:"labelLink"===t[r][1].type?"link":"image",start:Object.assign({},t[r][1].start),end:Object.assign({},t[t.length-1][1].end)},u={type:"label",start:Object.assign({},t[r][1].start),end:Object.assign({},t[o][1].end)},c={type:"labelText",start:Object.assign({},t[r+s+2][1].end),end:Object.assign({},t[o-2][1].start)};return i=[["enter",a,e],["enter",u,e]],i=Ae(i,t.slice(r+1,r+s+3)),i=Ae(i,[["enter",c,e]]),i=Ae(i,rn(e.parser.constructs.insideSpan.null,t.slice(r+s+4,o-3),e)),i=Ae(i,[["exit",c,e],t[o-2],t[o-1],["exit",u,e]]),i=Ae(i,t.slice(o+1)),i=Ae(i,[["exit",a,e]]),Le(t,r,t.length,i),t},resolveAll(t){let e=-1;for(;++e<t.length;){const n=t[e][1];"labelImage"!==n.type&&"labelLink"!==n.type&&"labelEnd"!==n.type||(t.splice(e+1,"labelImage"===n.type?4:2),n.type="data",e++)}return t}},Hn={tokenize(t,e,n){return e=>(t.enter("resource"),t.enter("resourceMarker"),t.consume(e),t.exit("resourceMarker"),r);function r(e){return Ze(e)?Mn(t,o)(e):o(e)}function o(e){return 41===e?u(e):Sn(t,i,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(e)}function i(e){return Ze(e)?Mn(t,s)(e):u(e)}function l(t){return n(t)}function s(e){return 34===e||39===e||40===e?Cn(t,a,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(e):u(e)}function a(e){return Ze(e)?Mn(t,u)(e):u(e)}function u(r){return 41===r?(t.enter("resourceMarker"),t.consume(r),t.exit("resourceMarker"),t.exit("resource"),e):n(r)}}},Bn={tokenize(t,e,n){const r=this;return e=>En.call(r,t,o,i,"reference","referenceMarker","referenceString")(e);function o(t){return r.parser.defined.includes(ze(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(t):n(t)}function i(t){return n(t)}}},qn={tokenize(t,e,n){return e=>(t.enter("reference"),t.enter("referenceMarker"),t.consume(e),t.exit("referenceMarker"),r);function r(r){return 93===r?(t.enter("referenceMarker"),t.consume(r),t.exit("referenceMarker"),t.exit("reference"),e):n(r)}}},Nn={name:"labelStartImage",tokenize(t,e,n){const r=this;return e=>(t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(e),t.exit("labelImageMarker"),o);function o(e){return 91===e?(t.enter("labelMarker"),t.consume(e),t.exit("labelMarker"),t.exit("labelImage"),i):n(e)}function i(t){return 94===t&&"_hiddenFootnoteSupport"in r.parser.constructs?n(t):e(t)}},resolveAll:zn.resolveAll},Un={name:"labelStartLink",tokenize(t,e,n){const r=this;return e=>(t.enter("labelLink"),t.enter("labelMarker"),t.consume(e),t.exit("labelMarker"),t.exit("labelLink"),o);function o(t){return 94===t&&"_hiddenFootnoteSupport"in r.parser.constructs?n(t):e(t)}},resolveAll:zn.resolveAll},_n={name:"lineEnding",tokenize(t,e){return n=>(t.enter("lineEnding"),t.consume(n),t.exit("lineEnding"),Ge(t,e,"linePrefix"))}},$n={name:"thematicBreak",tokenize(t,e,n){let r,o=0;return e=>(t.enter("thematicBreak"),(t=>(r=t,i(t)))(e));function i(i){return i===r?(t.enter("thematicBreakSequence"),l(i)):3>o||null!==i&&!Ve(i)?n(i):(t.exit("thematicBreak"),e(i))}function l(e){return e===r?(t.consume(e),o++,l):(t.exit("thematicBreakSequence"),We(e)?Ge(t,i,"whitespace")(e):i(e))}}},Vn={name:"list",tokenize(t,e,n){const r=this,o=r.events[r.events.length-1];let i=o&&"linePrefix"===o[1].type?o[2].sliceSerialize(o[1],1).length:0,l=0;return e=>{const o=r.containerState.type||(42===e||43===e||45===e?"listUnordered":"listOrdered");if("listUnordered"===o?!r.containerState.marker||e===r.containerState.marker:Ue(e)){if(r.containerState.type||(r.containerState.type=o,t.enter(o,{_container:1})),"listUnordered"===o)return t.enter("listItemPrefix"),42===e||45===e?t.check($n,n,a)(e):a(e);if(!r.interrupt||49===e)return t.enter("listItemPrefix"),t.enter("listItemValue"),s(e)}return n(e)};function s(e){return Ue(e)&&10>++l?(t.consume(e),s):r.interrupt&&l>=2||(r.containerState.marker?e!==r.containerState.marker:41!==e&&46!==e)?n(e):(t.exit("listItemValue"),a(e))}function a(e){return t.enter("listItemMarker"),t.consume(e),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||e,t.check(an,r.interrupt?n:u,t.attempt(Zn,f,c))}function u(t){return r.containerState.initialBlankLine=1,i++,f(t)}function c(e){return We(e)?(t.enter("listItemPrefixWhitespace"),t.consume(e),t.exit("listItemPrefixWhitespace"),f):n(e)}function f(n){return r.containerState.size=i+r.sliceSerialize(t.exit("listItemPrefix"),1).length,e(n)}},continuation:{tokenize(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(an,(n=>(r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ge(t,e,"listItemIndent",r.containerState.size+1)(n))),(n=>r.containerState.furtherBlankLines||!We(n)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(n)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(Wn,e,o)(n))));function o(o){return r.containerState._closeFlow=1,r.interrupt=void 0,Ge(t,t.attempt(Vn,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}},exit(t){t.exit(this.containerState.type)}},Zn={tokenize(t,e,n){const r=this;return Ge(t,(t=>{const o=r.events[r.events.length-1];return!We(t)&&o&&"listItemPrefixWhitespace"===o[1].type?e(t):n(t)}),"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5)},partial:1},Wn={tokenize(t,e,n){const r=this;return Ge(t,(t=>{const o=r.events[r.events.length-1];return o&&"listItemIndent"===o[1].type&&o[2].sliceSerialize(o[1],1).length===r.containerState.size?e(t):n(t)}),"listItemIndent",r.containerState.size+1)},partial:1},Qn={name:"setextUnderline",tokenize(t,e,n){const r=this;let o;return e=>{let l,s=r.events.length;for(;s--;)if("lineEnding"!==r.events[s][1].type&&"linePrefix"!==r.events[s][1].type&&"content"!==r.events[s][1].type){l="paragraph"===r.events[s][1].type;break}return r.parser.lazy[r.now().line]||!r.interrupt&&!l?n(e):(t.enter("setextHeadingLine"),o=e,(e=>(t.enter("setextHeadingLineSequence"),i(e)))(e))};function i(e){return e===o?(t.consume(e),i):(t.exit("setextHeadingLineSequence"),We(e)?Ge(t,l,"lineSuffix")(e):l(e))}function l(r){return null===r||Ve(r)?(t.exit("setextHeadingLine"),e(r)):n(r)}},resolveTo(t,e){let n,r,o,i=t.length;for(;i--;)if("enter"===t[i][0]){if("content"===t[i][1].type){n=i;break}"paragraph"===t[i][1].type&&(r=i)}else"content"===t[i][1].type&&t.splice(i,1),o||"definition"!==t[i][1].type||(o=i);const l={type:"setextHeading",start:Object.assign({},t[r][1].start),end:Object.assign({},t[t.length-1][1].end)};return t[r][1].type="setextHeadingText",o?(t.splice(r,0,["enter",l,e]),t.splice(o+1,0,["exit",t[n][1],e]),t[n][1].end=Object.assign({},t[o][1].end)):t[n][1]=l,t.push(["exit",l,e]),t}},Kn={tokenize(t){const e=this,n=t.attempt(an,(r=>{if(null!==r)return t.enter("lineEndingBlank"),t.consume(r),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n;t.consume(r)}),t.attempt(this.parser.constructs.flowInitial,r,Ge(t,t.attempt(this.parser.constructs.flow,r,t.attempt(xn,r)),"linePrefix")));return n;function r(r){if(null!==r)return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),e.currentConstruct=void 0,n;t.consume(r)}}},Yn={resolveAll:tr()},Xn=Jn("string"),Gn=Jn("text");function Jn(t){return{tokenize(e){const n=this,r=this.parser.constructs[t],o=e.attempt(r,i,l);return i;function i(t){return a(t)?o(t):l(t)}function l(t){if(null!==t)return e.enter("data"),e.consume(t),s;e.consume(t)}function s(t){return a(t)?(e.exit("data"),o(t)):(e.consume(t),s)}function a(t){if(null===t)return 1;const e=r[t];let o=-1;if(e)for(;++o<e.length;){const t=e[o];if(!t.previous||t.previous.call(n,n.previous))return 1}return 0}},resolveAll:tr("text"===t?er:void 0)}}function tr(t){return(e,n)=>{let r,o=-1;for(;++o<=e.length;)void 0===r?e[o]&&"data"===e[o][1].type&&(r=o,o++):e[o]&&"data"===e[o][1].type||(o!==r+2&&(e[r][1].end=e[o-1][1].end,e.splice(r+2,o-r-2),o=r+2),r=void 0);return t?t(e,n):e}}function er(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||"lineEnding"===t[n][1].type)&&"data"===t[n-1][1].type){const r=t[n-1][1],o=e.sliceStream(r);let i,l=o.length,s=-1,a=0;for(;l--;){const t=o[l];if("string"==typeof t){for(s=t.length;32===t.charCodeAt(s-1);)a++,s--;if(s)break;s=-1}else if(-2===t)i=1,a++;else if(-1!==t){l++;break}}if(a){const o={type:n===t.length||i||2>a?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-a,offset:r.end.offset-a,_index:r.start._index+l,_bufferIndex:l?s:r.start._bufferIndex+s},end:Object.assign({},r.end)};r.end=Object.assign({},o.start),r.start.offset===r.end.offset?Object.assign(r,o):(t.splice(n,0,["enter",o,e],["exit",o,e]),n+=2)}n++}return t}var nr=Object.freeze({__proto__:null,attentionMarkers:{null:[42,95]},contentInitial:{91:Tn},disable:{null:[]},document:{42:Vn,43:Vn,45:Vn,48:Vn,49:Vn,50:Vn,51:Vn,52:Vn,53:Vn,54:Vn,55:Vn,56:Vn,57:Vn,62:un},flow:{35:Ln,42:$n,45:[Qn,$n],60:Rn,61:Qn,95:$n,96:dn,126:dn},flowInitial:{[-2]:pn,[-1]:pn,32:pn},insideSpan:{null:[on,Yn]},string:{38:fn,92:cn},text:{[-5]:_n,[-4]:_n,[-3]:_n,33:Nn,38:fn,42:on,60:[sn,jn],91:Un,92:[Dn,cn],93:zn,95:on,96:mn}});const rr=/[\0\t\n\r]/g,or=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function ir(t,e,n){if(e)return e;if(35===n.charCodeAt(0)){const t=n.charCodeAt(1),e=120===t||88===t;return je(n.slice(e?2:1),e?16:10)}return De(n)||t}const lr={}.hasOwnProperty;function sr(t,e,n){return"string"!=typeof e&&(n=e,e=void 0),function(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(v),autolinkProtocol:c,autolinkEmail:c,atxHeading:o(g),blockQuote:o((()=>({type:"blockquote",children:[]}))),characterEscape:c,characterReference:c,codeFenced:o(p),codeFencedFenceInfo:i,codeFencedFenceMeta:i,codeIndented:o(p,i),codeText:o((()=>({type:"inlineCode",value:""})),i),codeTextData:c,data:c,codeFlowValue:c,definition:o((()=>({type:"definition",identifier:"",label:null,title:null,url:""}))),definitionDestinationString:i,definitionLabelString:i,definitionTitleString:i,emphasis:o((()=>({type:"emphasis",children:[]}))),hardBreakEscape:o(m),hardBreakTrailing:o(m),htmlFlow:o(b,i),htmlFlowData:c,htmlText:o(b,i),htmlTextData:c,image:o((()=>({type:"image",title:null,url:"",alt:null}))),label:i,link:o(v),listItem:o((t=>({type:"listItem",spread:t._spread,checked:null,children:[]}))),listItemValue(t){this.data.expectingFirstListItemValue&&(this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(t),10),this.data.expectingFirstListItemValue=void 0)},listOrdered:o(k,(function(){this.data.expectingFirstListItemValue=1})),listUnordered:o(k),paragraph:o((()=>({type:"paragraph",children:[]}))),reference(){this.data.referenceType="collapsed"},referenceString:i,resourceDestinationString:i,resourceTitleString:i,setextHeading:o(g),strong:o((()=>({type:"strong",children:[]}))),thematicBreak:o((()=>({type:"thematicBreak"})))},exit:{atxHeading:s(),atxHeadingSequence(t){const e=this.stack[this.stack.length-1];if(!e.depth){const n=this.sliceSerialize(t).length;e.depth=n}},autolink:s(),autolinkEmail(t){f.call(this,t),this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(t)},autolinkProtocol(t){f.call(this,t),this.stack[this.stack.length-1].url=this.sliceSerialize(t)},blockQuote:s(),characterEscapeValue:f,characterReferenceMarkerHexadecimal:d,characterReferenceMarkerNumeric:d,characterReferenceValue(t){const e=this.sliceSerialize(t),n=this.data.characterReferenceType;let r;n?(r=je(e,"characterReferenceMarkerNumeric"===n?10:16),this.data.characterReferenceType=void 0):r=De(e),this.stack[this.stack.length-1].value+=r},characterReference(t){this.stack.pop().position.end=ar(t.end)},codeFenced:s((function(){const t=this.resume();this.stack[this.stack.length-1].value=t.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0})),codeFencedFence(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=1)},codeFencedFenceInfo(){const t=this.resume();this.stack[this.stack.length-1].lang=t},codeFencedFenceMeta(){const t=this.resume();this.stack[this.stack.length-1].meta=t},codeFlowValue:f,codeIndented:s((function(){const t=this.resume();this.stack[this.stack.length-1].value=t.replace(/(\r?\n|\r)$/g,"")})),codeText:s((function(){const t=this.resume();this.stack[this.stack.length-1].value=t})),codeTextData:f,data:f,definition:s(),definitionDestinationString(){const t=this.resume();this.stack[this.stack.length-1].url=t},definitionLabelString(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.label=e,n.identifier=ze(this.sliceSerialize(t)).toLowerCase()},definitionTitleString(){const t=this.resume();this.stack[this.stack.length-1].title=t},emphasis:s(),hardBreakEscape:s(h),hardBreakTrailing:s(h),htmlFlow:s((function(){const t=this.resume();this.stack[this.stack.length-1].value=t})),htmlFlowData:f,htmlText:s((function(){const t=this.resume();this.stack[this.stack.length-1].value=t})),htmlTextData:f,image:s((function(){const t=this.stack[this.stack.length-1];if(this.data.inReference){const e=this.data.referenceType||"shortcut";t.type+="Reference",t.referenceType=e,delete t.url,delete t.title}else delete t.identifier,delete t.label;this.data.referenceType=void 0})),label(){const t=this.stack[this.stack.length-1],e=this.resume(),n=this.stack[this.stack.length-1];this.data.inReference=1,"link"===n.type?n.children=t.children:n.alt=e},labelText(t){const e=this.sliceSerialize(t),n=this.stack[this.stack.length-2];n.label=(t=>t.replace(or,ir))(e),n.identifier=ze(e).toLowerCase()},lineEnding(t){const n=this.stack[this.stack.length-1];if(this.data.atHardBreak)return n.children[n.children.length-1].position.end=ar(t.end),void(this.data.atHardBreak=void 0);!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(n.type)&&(c.call(this,t),f.call(this,t))},link:s((function(){const t=this.stack[this.stack.length-1];if(this.data.inReference){const e=this.data.referenceType||"shortcut";t.type+="Reference",t.referenceType=e,delete t.url,delete t.title}else delete t.identifier,delete t.label;this.data.referenceType=void 0})),listItem:s(),listOrdered:s(),listUnordered:s(),paragraph:s(),referenceString(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.label=e,n.identifier=ze(this.sliceSerialize(t)).toLowerCase(),this.data.referenceType="full"},resourceDestinationString(){const t=this.resume();this.stack[this.stack.length-1].url=t},resourceTitleString(){const t=this.resume();this.stack[this.stack.length-1].title=t},resource(){this.data.inReference=void 0},setextHeading:s((function(){this.data.setextHeadingSlurpLineEnding=void 0})),setextHeadingLineSequence(t){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(t).codePointAt(0)?1:2},setextHeadingText(){this.data.setextHeadingSlurpLineEnding=1},strong:s(),thematicBreak:s()}};ur(e,(t||{}).mdastExtensions||[]);const n={};return t=>{let o={type:"root",children:[]};const s={stack:[o],tokenStack:[],config:e,enter:l,exit:a,buffer:i,resume:u,data:n},c=[];let f=-1;for(;++f<t.length;)"listOrdered"!==t[f][1].type&&"listUnordered"!==t[f][1].type||("enter"===t[f][0]?c.push(f):f=r(t,c.pop(),f));for(f=-1;++f<t.length;){const n=e[t[f][0]];lr.call(n,t[f][1].type)&&n[t[f][1].type].call(Object.assign({sliceSerialize:t[f][2].sliceSerialize},s),t[f][1])}if(s.tokenStack.length>0){const t=s.tokenStack[s.tokenStack.length-1];(t[1]||fr).call(s,void 0,t[0])}for(o.position={start:ar(t.length>0?t[0][1].start:{line:1,column:1,offset:0}),end:ar(t.length>0?t[t.length-2][1].end:{line:1,column:1,offset:0})},f=-1;++f<e.transforms.length;)o=e.transforms[f](o)||o;return o};function r(t,e,n){let r,o,i,l,s=e-1,a=-1,u=0;for(;++s<=n;){const e=t[s];switch(e[1].type){case"listUnordered":case"listOrdered":case"blockQuote":"enter"===e[0]?a++:a--,l=void 0;break;case"lineEndingBlank":"enter"===e[0]&&(!r||l||a||i||(i=s),l=void 0);break;case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:l=void 0}if(!a&&"enter"===e[0]&&"listItemPrefix"===e[1].type||-1===a&&"exit"===e[0]&&("listUnordered"===e[1].type||"listOrdered"===e[1].type)){if(r){let l=s;for(o=void 0;l--;){const e=t[l];if("lineEnding"===e[1].type||"lineEndingBlank"===e[1].type){if("exit"===e[0])continue;o&&(t[o][1].type="lineEndingBlank",u=1),e[1].type="lineEnding",o=l}else if("linePrefix"!==e[1].type&&"blockQuotePrefix"!==e[1].type&&"blockQuotePrefixWhitespace"!==e[1].type&&"blockQuoteMarker"!==e[1].type&&"listItemIndent"!==e[1].type)break}!i||o&&i>=o||(r._spread=1),r.end=Object.assign({},o?t[o][1].start:e[1].end),t.splice(o||s,0,["exit",r,e[2]]),s++,n++}if("listItemPrefix"===e[1].type){const o={type:"listItem",_spread:0,start:Object.assign({},e[1].start),end:void 0};r=o,t.splice(s,0,["enter",o,e[2]]),s++,n++,i=void 0,l=1}}}return t[e][1]._spread=u,n}function o(t,e){return function(n){l.call(this,t(n),n),e&&e.call(this,n)}}function i(){this.stack.push({type:"fragment",children:[]})}function l(t,e,n){this.stack[this.stack.length-1].children.push(t),this.stack.push(t),this.tokenStack.push([e,n]),t.position={start:ar(e.start),end:void 0}}function s(t){return function(e){t&&t.call(this,e),a.call(this,e)}}function a(t,e){const n=this.stack.pop(),r=this.tokenStack.pop();if(!r)throw Error("Cannot close `"+t.type+"` ("+te({start:t.start,end:t.end})+"): it’s not open");r[0].type!==t.type&&(e?e.call(this,t,r[0]):(r[1]||fr).call(this,t,r[0])),n.position.end=ar(t.end)}function u(){return Ce(this.stack.pop())}function c(t){const e=this.stack[this.stack.length-1].children;let n=e[e.length-1];n&&"text"===n.type||(n={type:"text",value:""},n.position={start:ar(t.start),end:void 0},e.push(n)),this.stack.push(n)}function f(t){const e=this.stack.pop();e.value+=this.sliceSerialize(t),e.position.end=ar(t.end)}function h(){this.data.atHardBreak=1}function d(t){this.data.characterReferenceType=t.type}function p(){return{type:"code",lang:null,meta:null,value:""}}function g(){return{type:"heading",depth:0,children:[]}}function m(){return{type:"break"}}function b(){return{type:"html",value:""}}function v(){return{type:"link",title:null,url:"",children:[]}}function k(t){return{type:"list",ordered:"listOrdered"===t.type,start:null,spread:t._spread,children:[]}}}(n)((t=>{for(;!kn(t););return t})((t=>{const e={defined:[],lazy:{},constructs:Re([nr,...(t||{}).extensions||[]]),content:n(Je),document:n(tn),flow:n(Kn),string:n(Xn),text:n(Gn)};return e;function n(t){return n=>function(t,e,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const o={},i=[];let l=[],s=[];const a={consume(t){Ve(t)?(r.line++,r.column=1,r.offset+=-3===t?2:1,b()):-1!==t&&(r.column++,r.offset++),0>r._bufferIndex?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=t},enter(t,e){const n=e||{};return n.type=t,n.start=h(),u.events.push(["enter",n,u]),s.push(n),n},exit(t){const e=s.pop();return e.end=h(),u.events.push(["exit",e,u]),e},attempt:g(((t,e)=>{m(t,e.from)})),check:g(p),interrupt:g(p,{interrupt:1})},u={previous:null,code:null,containerState:{},events:[],parser:t,sliceStream:f,sliceSerialize:(t,e)=>((t,e)=>{let n=-1;const r=[];let o;for(;++n<t.length;){const i=t[n];let l;if("string"==typeof i)l=i;else switch(i){case-5:l="\r";break;case-4:l="\n";break;case-3:l="\r\n";break;case-2:l=e?" ":"\t";break;case-1:if(!e&&o)continue;l=" ";break;default:l=String.fromCharCode(i)}o=-2===i,r.push(l)}return r.join("")})(f(t),e),now:h,defineSkip(t){o[t.line]=t.column,b()},write:t=>(l=Ae(l,t),(()=>{let t;for(;l.length>r._index;){const e=l[r._index];if("string"==typeof e)for(t=r._index,0>r._bufferIndex&&(r._bufferIndex=0);r._index===t&&e.length>r._bufferIndex;)d(e.charCodeAt(r._bufferIndex));else d(e)}})(),null!==l[l.length-1]?[]:(m(e,0),u.events=rn(i,u.events,u),u.events))};let c=e.tokenize.call(u,a);return e.resolveAll&&i.push(e),u;function f(t){return((t,e)=>{const n=e.start._index,r=e.start._bufferIndex,o=e.end._index,i=e.end._bufferIndex;let l;if(n===o)l=[t[n].slice(r,i)];else{if(l=t.slice(n,o),r>-1){const t=l[0];"string"==typeof t?l[0]=t.slice(r):l.shift()}i>0&&l.push(t[o].slice(0,i))}return l})(l,t)}function h(){const{line:t,column:e,offset:n,_index:o,_bufferIndex:i}=r;return{line:t,column:e,offset:n,_index:o,_bufferIndex:i}}function d(t){c=c(t)}function p(t,e){e.restore()}function g(t,e){return(n,o,i)=>{let l,c,f,d;return Array.isArray(n)?p(n):"tokenize"in n?p([n]):(t=>e=>{const n=null!==e&&t[e],r=null!==e&&t.null;return p([...Array.isArray(n)?n:n?[n]:[],...Array.isArray(r)?r:r?[r]:[]])(e)})(n);function p(t){return l=t,c=0,0===t.length?i:g(t[c])}function g(t){return n=>(d=(()=>{const t=h(),e=u.previous,n=u.currentConstruct,o=u.events.length,i=Array.from(s);return{restore(){r=t,u.previous=e,u.currentConstruct=n,u.events.length=o,s=i,b()},from:o}})(),f=t,t.partial||(u.currentConstruct=t),t.name&&u.parser.constructs.disable.null.includes(t.name)?v():t.tokenize.call(e?Object.assign(Object.create(u),e):u,a,m,v)(n))}function m(e){return t(f,d),o}function v(t){return d.restore(),++c<l.length?g(l[c]):i}}}function m(t,e){t.resolveAll&&!i.includes(t)&&i.push(t),t.resolve&&Le(u.events,e,u.events.length-e,t.resolve(u.events.slice(e),u)),t.resolveTo&&(u.events=t.resolveTo(u.events,u))}function b(){r.line in o&&2>r.column&&(r.column=o[r.line],r.offset+=o[r.line]-1)}}(e,t,n)}})(n).document().write((()=>{let t,e=1,n="",r=1;return(o,i,l)=>{const s=[];let a,u,c,f,h;for(o=n+("string"==typeof o?""+o:new TextDecoder(i||void 0).decode(o)),c=0,n="",r&&(65279===o.charCodeAt(0)&&c++,r=void 0);o.length>c;){if(rr.lastIndex=c,a=rr.exec(o),f=a&&void 0!==a.index?a.index:o.length,h=o.charCodeAt(f),!a){n=o.slice(c);break}if(10===h&&c===f&&t)s.push(-3),t=void 0;else switch(t&&(s.push(-5),t=void 0),f>c&&(s.push(o.slice(c,f)),e+=f-c),h){case 0:s.push(65533),e++;break;case 9:for(u=4*Math.ceil(e/4),s.push(-2);e++<u;)s.push(-1);break;case 10:s.push(-4),e=1;break;default:t=1,e=1}c=f+1}return l&&(t&&s.push(-5),n&&s.push(n),s.push(null)),s}})()(t,e,1))))}function ar(t){return{line:t.line,column:t.column,offset:t.offset}}function ur(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?ur(t,r):cr(t,r)}}function cr(t,e){let n;for(n in e)if(lr.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function fr(t,e){throw Error(t?"Cannot close `"+t.type+"` ("+te({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+te({start:e.start,end:e.end})+") is open":"Cannot close document, a token (`"+e.type+"`, "+te({start:e.start,end:e.end})+") is still open")}function hr(t){const e=this;e.parser=n=>sr(n,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}function dr(t,e){const n=t+"";if("string"!=typeof e)throw new TypeError("Expected character");let r=0,o=n.indexOf(e);for(;-1!==o;)r++,o=n.indexOf(e,o+e.length);return r}const pr=function(t){if(null==t)return mr;if("function"==typeof t)return gr(t);if("object"==typeof t)return Array.isArray(t)?function(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=pr(t[n]);return gr((function(...t){let n=-1;for(;++n<e.length;)if(e[n].apply(this,t))return 1;return 0}))}(t):(t=>{const e=t;return gr((n=>{const r=n;let o;for(o in t)if(r[o]!==e[o])return 0;return 1}))})(t);if("string"==typeof t)return e=t,gr((t=>t&&t.type===e));var e;throw Error("Expected function, string, or object as test")};function gr(t){return function(e,n,r){return!(!(t=>null!==t&&"object"==typeof t&&"type"in t)(e)||!t.call(this,e,"number"==typeof n?n:void 0,r||void 0))}}function mr(){return 1}const br=[],vr=1,kr=0,yr="skip";function xr(t,e,n,r){let o;"function"==typeof e&&"function"!=typeof n?(r=n,n=e):o=e;const i=pr(o),l=r?-1:1;!function t(o,s,a){const u=o&&"object"==typeof o?o:{};if("string"==typeof u.type){const t="string"==typeof u.tagName?u.tagName:"string"==typeof u.name?u.name:void 0;Object.defineProperty(c,"name",{value:"node ("+o.type+(t?"<"+t+">":"")+")"})}return c;function c(){let u,c,f,h=br;if((!e||i(o,s,a[a.length-1]||void 0))&&(h=(t=>Array.isArray(t)?t:"number"==typeof t?[vr,t]:null==t?br:[t])(n(o,a)),h[0]===kr))return h;if("children"in o&&o.children){const e=o;if(e.children&&h[0]!==yr)for(c=(r?e.children.length:-1)+l,f=a.concat(e);c>-1&&e.children.length>c;){if(u=t(e.children[c],c,f)(),u[0]===kr)return u;c="number"==typeof u[1]?u[1]:c+l}}return h}}(t,void 0,[])()}function wr(t){return"function"==typeof t?t:()=>t}const Sr="phrasing",Er=["autolink","link","image","label"];function Cr(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function Mr(t){this.config.enter.autolinkProtocol.call(this,t)}function Tr(t){this.config.exit.autolinkProtocol.call(this,t)}function Or(t){this.config.exit.data.call(this,t),this.stack[this.stack.length-1].url="http://"+this.sliceSerialize(t)}function Dr(t){this.config.exit.autolinkEmail.call(this,t)}function Lr(t){this.exit(t)}function Ar(t){((t,e,n)=>{const r=pr(({ignore:["link","linkReference"]}||{}).ignore||[]),o=(t=>{const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const t=n[r];e.push([(o=t[0],"string"==typeof o?RegExp((t=>{if("string"!=typeof t)throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")})(o),"g"):o),wr(t[1])])}var o;return e})(e);let i=-1;for(;++i<o.length;)xr(t,"text",l);function l(t,e){let n,l=-1;for(;++l<e.length;){const t=e[l],o=n?n.children:void 0;if(r(t,o?o.indexOf(t):void 0,n))return;n=t}if(n)return((t,e)=>{const n=e[e.length-1],r=o[i][0],l=o[i][1];let s=0;const a=n.children.indexOf(t);let u=0,c=[];r.lastIndex=0;let f=r.exec(t.value);for(;f;){const n=f.index,o={index:f.index,input:f.input,stack:[...e,t]};let i=l(...f,o);if("string"==typeof i&&(i=i.length>0?{type:"text",value:i}:void 0),0==i?r.lastIndex=n+1:(s!==n&&c.push({type:"text",value:t.value.slice(s,n)}),Array.isArray(i)?c.push(...i):i&&c.push(i),s=n+f[0].length,u=1),!r.global)break;f=r.exec(t.value)}return u?(t.value.length>s&&c.push({type:"text",value:t.value.slice(s)}),n.children.splice(a,1,...c)):c=[t],a+c.length})(t,e)}})(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Fr],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/g,Rr]])}function Fr(t,e,n,r,o){let i="";if(!Pr(o))return 0;if(/^w/i.test(e)&&(n=e+n,e="",i="http://"),!(t=>{const e=t.split(".");return 2>e.length||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2]))?0:1})(n))return 0;const l=(t=>{const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const o=dr(t,"(");let i=dr(t,")");for(;-1!==r&&o>i;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),i++;return[t,n]})(n+r);if(!l[0])return 0;const s={type:"link",title:null,url:i+e+l[0],children:[{type:"text",value:e+l[0]}]};return l[1]?[s,{type:"text",value:l[1]}]:s}function Rr(t,e,n,r){return!Pr(r,1)||/[-\d_]$/.test(n)?0:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function Pr(t,e){const n=t.input.charCodeAt(t.index-1);return(0===t.index||Ke(n)||Qe(n))&&(!e||47!==n)}function Ir(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function jr(){this.buffer()}function zr(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.label=e,n.identifier=ze(this.sliceSerialize(t)).toLowerCase()}function Hr(t){this.exit(t)}function Br(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function qr(){this.buffer()}function Nr(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.label=e,n.identifier=ze(this.sliceSerialize(t)).toLowerCase()}function Ur(t){this.exit(t)}function _r(t,e,n,r){const o=n.createTracker(r);let i=o.move("[^");const l=n.enter("footnoteReference"),s=n.enter("reference");return i+=o.move(n.safe(n.associationId(t),{...o.current(),before:i,after:"]"})),s(),l(),i+=o.move("]"),i}function $r(t,e,n,r){const o=n.createTracker(r);let i=o.move("[^");const l=n.enter("footnoteDefinition"),s=n.enter("label");return i+=o.move(n.safe(n.associationId(t),{...o.current(),before:i,after:"]"})),s(),i+=o.move("]:"+(t.children&&t.children.length>0?" ":"")),o.shift(4),i+=o.move(n.indentLines(n.containerFlow(t,o.current()),Vr)),l(),i}function Vr(t,e,n){return 0===e?t:(n?"":"    ")+t}_r.peek=()=>"[";const Zr=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];function Wr(t){this.enter({type:"delete",children:[]},t)}function Qr(t){this.exit(t)}function Kr(t,e,n,r){const o=n.createTracker(r),i=n.enter("strikethrough");let l=o.move("~~");return l+=n.containerPhrasing(t,{...o.current(),before:l,after:"~"}),l+=o.move("~~"),i(),l}function Yr(t){return t.length}function Xr(t){const e="string"==typeof t?t.codePointAt(0):0;return 67===e||99===e?99:76===e||108===e?108:82===e||114===e?114:0}Kr.peek=()=>"~";const Gr={}.hasOwnProperty;function Jr(t,e,n){return">"+(n?"":" ")+t}function to(t,e,n){if("string"==typeof e&&(e=[e]),!e||0===e.length)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return 1;return 0}function eo(t,e,n,r){let o=-1;for(;++o<n.unsafe.length;)if("\n"===n.unsafe[o].character&&to(i=n.stack,(l=n.unsafe[o]).inConstruct,1)&&!to(i,l.notInConstruct,0))return/[ \t]/.test(r.before)?"":" ";var i,l;return"\\\n"}function no(t,e,n){return(n?"":"    ")+t}function ro(t){const e=t.options.quote||'"';if('"'!==e&&"'"!==e)throw Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function oo(t,e,n,r){const o=(t=>{const e=t.options.emphasis||"*";if("*"!==e&&"_"!==e)throw Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e})(n),i=n.enter("emphasis"),l=n.createTracker(r);let s=l.move(o);return s+=l.move(n.containerPhrasing(t,{before:s,after:o,...l.current()})),s+=l.move(o),i(),s}function io(t,e,n,r){let o,i,l;"function"==typeof e&&"function"!=typeof n?(i=void 0,l=e,o=n):(i=e,l=n,o=r),xr(t,i,((t,e)=>{const n=e[e.length-1],r=n?n.children.indexOf(t):void 0;return l(t,r,n)}),o)}function lo(t){return t.value||""}function so(t,e,n,r){const o=ro(n),i='"'===o?"Quote":"Apostrophe",l=n.enter("image");let s=n.enter("label");const a=n.createTracker(r);let u=a.move("![");return u+=a.move(n.safe(t.alt,{before:u,after:"]",...a.current()})),u+=a.move("]("),s(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(s=n.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(n.safe(t.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(s=n.enter("destinationRaw"),u+=a.move(n.safe(t.url,{before:u,after:t.title?" ":")",...a.current()}))),s(),t.title&&(s=n.enter("title"+i),u+=a.move(" "+o),u+=a.move(n.safe(t.title,{before:u,after:o,...a.current()})),u+=a.move(o),s()),u+=a.move(")"),l(),u}function ao(t,e,n,r){const o=t.referenceType,i=n.enter("imageReference");let l=n.enter("label");const s=n.createTracker(r);let a=s.move("![");const u=n.safe(t.alt,{before:a,after:"]",...s.current()});a+=s.move(u+"]["),l();const c=n.stack;n.stack=[],l=n.enter("reference");const f=n.safe(n.associationId(t),{before:a,after:"]",...s.current()});return l(),n.stack=c,i(),"full"!==o&&u&&u===f?"shortcut"===o?a=a.slice(0,-1):a+=s.move("]"):a+=s.move(f+"]"),a}function uo(t,e,n){let r=t.value||"",o="`",i=-1;for(;RegExp("(^|[^`])"+o+"([^`]|$)").test(r);)o+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++i<n.unsafe.length;){const t=n.unsafe[i],e=n.compilePattern(t);let o;if(t.atBreak)for(;o=e.exec(r);){let t=o.index;10===r.charCodeAt(t)&&13===r.charCodeAt(t-1)&&t--,r=r.slice(0,t)+" "+r.slice(o.index+1)}}return o+r+o}function co(t,e){const n=Ce(t);return!(e.options.resourceLink||!t.url||t.title||!t.children||1!==t.children.length||"text"!==t.children[0].type||n!==t.url&&"mailto:"+n!==t.url||!/^[a-z][a-z+.-]+:/i.test(t.url)||/[\0- <>\u007F]/.test(t.url))}function fo(t,e,n,r){const o=ro(n),i='"'===o?"Quote":"Apostrophe",l=n.createTracker(r);let s,a;if(co(t,n)){const e=n.stack;n.stack=[],s=n.enter("autolink");let r=l.move("<");return r+=l.move(n.containerPhrasing(t,{before:r,after:">",...l.current()})),r+=l.move(">"),s(),n.stack=e,r}s=n.enter("link"),a=n.enter("label");let u=l.move("[");return u+=l.move(n.containerPhrasing(t,{before:u,after:"](",...l.current()})),u+=l.move("]("),a(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(t.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(a=n.enter("destinationRaw"),u+=l.move(n.safe(t.url,{before:u,after:t.title?" ":")",...l.current()}))),a(),t.title&&(a=n.enter("title"+i),u+=l.move(" "+o),u+=l.move(n.safe(t.title,{before:u,after:o,...l.current()})),u+=l.move(o),a()),u+=l.move(")"),s(),u}function ho(t,e,n,r){const o=t.referenceType,i=n.enter("linkReference");let l=n.enter("label");const s=n.createTracker(r);let a=s.move("[");const u=n.containerPhrasing(t,{before:a,after:"]",...s.current()});a+=s.move(u+"]["),l();const c=n.stack;n.stack=[],l=n.enter("reference");const f=n.safe(n.associationId(t),{before:a,after:"]",...s.current()});return l(),n.stack=c,i(),"full"!==o&&u&&u===f?"shortcut"===o?a=a.slice(0,-1):a+=s.move("]"):a+=s.move(f+"]"),a}function po(t){const e=t.options.bullet||"*";if("*"!==e&&"+"!==e&&"-"!==e)throw Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function go(t){const e=t.options.rule||"*";if("*"!==e&&"-"!==e&&"_"!==e)throw Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}oo.peek=(t,e,n)=>n.options.emphasis||"*",lo.peek=()=>"<",so.peek=()=>"!",ao.peek=()=>"!",uo.peek=()=>"`",fo.peek=(t,e,n)=>co(t,n)?"<":"[",ho.peek=()=>"[";const mo=pr(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function bo(t,e,n,r){const o=(t=>{const e=t.options.strong||"*";if("*"!==e&&"_"!==e)throw Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e})(n),i=n.enter("strong"),l=n.createTracker(r);let s=l.move(o+o);return s+=l.move(n.containerPhrasing(t,{before:s,after:o,...l.current()})),s+=l.move(o+o),i(),s}bo.peek=(t,e,n)=>n.options.strong||"*";const vo={blockquote(t,e,n,r){const o=n.enter("blockquote"),i=n.createTracker(r);i.move("> "),i.shift(2);const l=n.indentLines(n.containerFlow(t,i.current()),Jr);return o(),l},break:eo,code(t,e,n,r){const o=(t=>{const e=t.options.fence||"`";if("`"!==e&&"~"!==e)throw Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e})(n),i=t.value||"",l="`"===o?"GraveAccent":"Tilde";if(((t,e)=>!(0!=e.options.fences||!t.value||t.lang||!/[^ \r\n]/.test(t.value)||/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value)))(t,n)){const t=n.enter("codeIndented"),e=n.indentLines(i,no);return t(),e}const s=n.createTracker(r),a=o.repeat(Math.max(((t,e)=>{const n=t+"";let r=n.indexOf(e),o=r,i=0,l=0;if("string"!=typeof e)throw new TypeError("Expected substring");for(;-1!==r;)r===o?++i>l&&(l=i):i=1,o=r+e.length,r=n.indexOf(e,o);return l})(i,o)+1,3)),u=n.enter("codeFenced");let c=s.move(a);if(t.lang){const e=n.enter("codeFencedLang"+l);c+=s.move(n.safe(t.lang,{before:c,after:" ",encode:["`"],...s.current()})),e()}if(t.lang&&t.meta){const e=n.enter("codeFencedMeta"+l);c+=s.move(" "),c+=s.move(n.safe(t.meta,{before:c,after:"\n",encode:["`"],...s.current()})),e()}return c+=s.move("\n"),i&&(c+=s.move(i+"\n")),c+=s.move(a),u(),c},definition(t,e,n,r){const o=ro(n),i='"'===o?"Quote":"Apostrophe",l=n.enter("definition");let s=n.enter("label");const a=n.createTracker(r);let u=a.move("[");return u+=a.move(n.safe(n.associationId(t),{before:u,after:"]",...a.current()})),u+=a.move("]: "),s(),!t.url||/[\0- \u007F]/.test(t.url)?(s=n.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(n.safe(t.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(s=n.enter("destinationRaw"),u+=a.move(n.safe(t.url,{before:u,after:t.title?" ":"\n",...a.current()}))),s(),t.title&&(s=n.enter("title"+i),u+=a.move(" "+o),u+=a.move(n.safe(t.title,{before:u,after:o,...a.current()})),u+=a.move(o),s()),l(),u},emphasis:oo,hardBreak:eo,heading(t,e,n,r){const o=Math.max(Math.min(6,t.depth||1),1),i=n.createTracker(r);if(((t,e)=>{let n=0;return io(t,(t=>{if("value"in t&&/\r?\n|\r/.test(t.value)||"break"===t.type)return n=1,kr})),!(t.depth&&t.depth>=3||!Ce(t)||!e.options.setext&&!n)})(t,n)){const e=n.enter("headingSetext"),r=n.enter("phrasing"),l=n.containerPhrasing(t,{...i.current(),before:"\n",after:"\n"});return r(),e(),l+"\n"+(1===o?"=":"-").repeat(l.length-(Math.max(l.lastIndexOf("\r"),l.lastIndexOf("\n"))+1))}const l="#".repeat(o),s=n.enter("headingAtx"),a=n.enter("phrasing");i.move(l+" ");let u=n.containerPhrasing(t,{before:"# ",after:"\n",...i.current()});return/^[\t ]/.test(u)&&(u="&#x"+u.charCodeAt(0).toString(16).toUpperCase()+";"+u.slice(1)),u=u?l+" "+u:l,n.options.closeAtx&&(u+=" "+l),a(),s(),u},html:lo,image:so,imageReference:ao,inlineCode:uo,link:fo,linkReference:ho,list(t,e,n,r){const o=n.enter("list"),i=n.bulletCurrent;let l=t.ordered?(t=>{const e=t.options.bulletOrdered||".";if("."!==e&&")"!==e)throw Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e})(n):po(n);const s=t.ordered?"."===l?")":".":(t=>{const e=po(t),n=t.options.bulletOther;if(!n)return"*"===e?"-":"*";if("*"!==n&&"+"!==n&&"-"!==n)throw Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n})(n);let a=e&&n.bulletLastUsed?l===n.bulletLastUsed:0;if(!t.ordered){const e=t.children?t.children[0]:void 0;if("*"!==l&&"-"!==l||!e||e.children&&e.children[0]||"list"!==n.stack[n.stack.length-1]||"listItem"!==n.stack[n.stack.length-2]||"list"!==n.stack[n.stack.length-3]||"listItem"!==n.stack[n.stack.length-4]||0!==n.indexStack[n.indexStack.length-1]||0!==n.indexStack[n.indexStack.length-2]||0!==n.indexStack[n.indexStack.length-3]||(a=1),go(n)===l&&e){let e=-1;for(;++e<t.children.length;){const n=t.children[e];if(n&&"listItem"===n.type&&n.children&&n.children[0]&&"thematicBreak"===n.children[0].type){a=1;break}}}}a&&(l=s),n.bulletCurrent=l;const u=n.containerFlow(t,r);return n.bulletLastUsed=l,n.bulletCurrent=i,o(),u},listItem(t,e,n,r){const o=(t=>{const e=t.options.listItemIndent||"one";if("tab"!==e&&"one"!==e&&"mixed"!==e)throw Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e})(n);let i=n.bulletCurrent||po(n);e&&"list"===e.type&&e.ordered&&(i=("number"==typeof e.start&&e.start>-1?e.start:1)+(0==n.options.incrementListMarker?0:e.children.indexOf(t))+i);let l=i.length+1;("tab"===o||"mixed"===o&&(e&&"list"===e.type&&e.spread||t.spread))&&(l=4*Math.ceil(l/4));const s=n.createTracker(r);s.move(i+" ".repeat(l-i.length)),s.shift(l);const a=n.enter("listItem"),u=n.indentLines(n.containerFlow(t,s.current()),((t,e,n)=>e?(n?"":" ".repeat(l))+t:(n?i:i+" ".repeat(l-i.length))+t));return a(),u},paragraph(t,e,n,r){const o=n.enter("paragraph"),i=n.enter("phrasing"),l=n.containerPhrasing(t,r);return i(),o(),l},root(t,e,n,r){return(t.children.some((t=>mo(t)))?n.containerPhrasing:n.containerFlow).call(n,t,r)},strong:bo,text(t,e,n,r){return n.safe(t.value,r)},thematicBreak(t,e,n){const r=(go(n)+(n.options.ruleSpaces?" ":"")).repeat((t=>{const e=t.options.ruleRepetition||3;if(3>e)throw Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e})(n));return n.options.ruleSpaces?r.slice(0,-1):r}};function ko(t){this.enter({type:"table",align:t._align.map((t=>"none"===t?null:t)),children:[]},t),this.data.inTable=1}function yo(t){this.exit(t),this.data.inTable=void 0}function xo(t){this.enter({type:"tableRow",children:[]},t)}function wo(t){this.exit(t)}function So(t){this.enter({type:"tableCell",children:[]},t)}function Eo(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,Co)),this.stack[this.stack.length-1].value=e,this.exit(t)}function Co(t,e){return"|"===e?e:t}function Mo(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,o=e.stringLength,i=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:"\n",inConstruct:"tableCell"},{atBreak:1,character:"|",after:"[\t :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:1,character:":",after:"-"},{atBreak:1,character:"-",after:"[:|-]"}],handlers:{inlineCode(t,e,n){let r=vo.inlineCode(t,e,n);return n.stack.includes("tableCell")&&(r=r.replace(/\|/g,"\\$&")),r},table(t,e,n,r){return s(((t,e,n)=>{const r=t.children;let o=-1;const i=[],l=e.enter("table");for(;++o<r.length;)i[o]=a(r[o],e,n);return l(),i})(t,n,r),t.align)},tableCell:l,tableRow(t,e,n,r){const o=s([a(t,n,r)]);return o.slice(0,o.indexOf("\n"))}}};function l(t,e,n,r){const o=n.enter("tableCell"),l=n.enter("phrasing"),s=n.containerPhrasing(t,{...r,before:i,after:i});return l(),o(),s}function s(t,e){return((t,e={})=>{const n=(e.align||[]).concat(),r=e.stringLength||Yr,o=[],i=[],l=[],s=[];let a=0,u=-1;for(;++u<t.length;){const n=[],o=[];let f=-1;for(t[u].length>a&&(a=t[u].length);++f<t[u].length;){const i=null==(c=t[u][f])?"":c+"";if(0!=e.alignDelimiters){const t=r(i);o[f]=t,(void 0===s[f]||t>s[f])&&(s[f]=t)}n.push(i)}i[u]=n,l[u]=o}var c;let f=-1;if("object"==typeof n&&"length"in n)for(;++f<a;)o[f]=Xr(n[f]);else{const t=Xr(n);for(;++f<a;)o[f]=t}f=-1;const h=[],d=[];for(;++f<a;){const t=o[f];let n="",r="";99===t?(n=":",r=":"):108===t?n=":":114===t&&(r=":");let i=0==e.alignDelimiters?1:Math.max(1,s[f]-n.length-r.length);const l=n+"-".repeat(i)+r;0!=e.alignDelimiters&&(i=n.length+i+r.length,i>s[f]&&(s[f]=i),d[f]=i),h[f]=l}i.splice(1,0,h),l.splice(1,0,d),u=-1;const p=[];for(;++u<i.length;){const t=i[u],n=l[u];f=-1;const r=[];for(;++f<a;){const i=t[f]||"";let l="",u="";if(0!=e.alignDelimiters){const t=s[f]-(n[f]||0),e=o[f];114===e?l=" ".repeat(t):99===e?t%2?(l=" ".repeat(t/2+.5),u=" ".repeat(t/2-.5)):(l=" ".repeat(t/2),u=l):u=" ".repeat(t)}0==e.delimiterStart||f||r.push("|"),0==e.padding||0==e.alignDelimiters&&""===i||0==e.delimiterStart&&!f||r.push(" "),0!=e.alignDelimiters&&r.push(l),r.push(i),0!=e.alignDelimiters&&r.push(u),0!=e.padding&&r.push(" "),0==e.delimiterEnd&&f===a-1||r.push("|")}p.push(0==e.delimiterEnd?r.join("").replace(/ +$/,""):r.join(""))}return p.join("\n")})(t,{align:e,alignDelimiters:r,padding:n,stringLength:o})}function a(t,e,n){const r=t.children;let o=-1;const i=[],s=e.enter("tableRow");for(;++o<r.length;)i[o]=l(r[o],0,e,n);return s(),i}}function To(t){this.stack[this.stack.length-2].checked="taskListCheckValueChecked"===t.type}function Oo(t){const e=this.stack[this.stack.length-2];if(e&&"listItem"===e.type&&"boolean"==typeof e.checked){const t=this.stack[this.stack.length-1],n=t.children[0];if(n&&"text"===n.type){const r=e.children;let o,i=-1;for(;++i<r.length;){const t=r[i];if("paragraph"===t.type){o=t;break}}o===t&&(n.value=n.value.slice(1),0===n.value.length?t.children.shift():t.position&&n.position&&"number"==typeof n.position.start.offset&&(n.position.start.column++,n.position.start.offset++,t.position.start=Object.assign({},n.position.start)))}}this.exit(t)}function Do(t,e,n,r){const o=t.children[0],i="boolean"==typeof t.checked&&o&&"paragraph"===o.type,l="["+(t.checked?"x":" ")+"] ",s=n.createTracker(r);i&&s.move(l);let a=vo.listItem(t,e,n,{...r,...s.current()});return i&&(a=a.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,(t=>t+l))),a}const Lo={tokenize(t,e,n){let r=0;return function e(i){return 87!==i&&119!==i||r>=3?46===i&&3===r?(t.consume(i),o):n(i):(r++,t.consume(i),e)};function o(t){return null===t?n(t):e(t)}},partial:1},Ao={tokenize(t,e,n){let r,o,i;return l;function l(e){return 46===e||95===e?t.check(Ro,a,s)(e):null===e||Ze(e)||Ke(e)||45!==e&&Qe(e)?a(e):(i=1,t.consume(e),l)}function s(e){return 95===e?r=1:(o=r,r=void 0),t.consume(e),l}function a(t){return o||r||!i?n(t):e(t)}},partial:1},Fo={tokenize(t,e){let n=0,r=0;return o;function o(l){return 40===l?(n++,t.consume(l),o):41===l&&n>r?i(l):33===l||34===l||38===l||39===l||41===l||42===l||44===l||46===l||58===l||59===l||60===l||63===l||93===l||95===l||126===l?t.check(Ro,e,i)(l):null===l||Ze(l)||Ke(l)?e(l):(t.consume(l),o)}function i(e){return 41===e&&r++,t.consume(e),o}},partial:1},Ro={tokenize(t,e,n){return r;function r(l){return 33===l||34===l||39===l||41===l||42===l||44===l||46===l||58===l||59===l||63===l||95===l||126===l?(t.consume(l),r):38===l?(t.consume(l),i):93===l?(t.consume(l),o):60===l||null===l||Ze(l)||Ke(l)?e(l):n(l)}function o(t){return null===t||40===t||91===t||Ze(t)||Ke(t)?e(t):r(t)}function i(t){return He(t)?l(t):n(t)}function l(e){return 59===e?(t.consume(e),r):He(e)?(t.consume(e),l):n(e)}},partial:1},Po={tokenize(t,e,n){return e=>(t.consume(e),r);function r(t){return Be(t)?n(t):e(t)}},partial:1},Io={tokenize(t,e,n){const r=this;return e=>87!==e&&119!==e||!qo(r.previous)||$o(r.events)?n(e):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(Lo,t.attempt(Ao,t.attempt(Fo,o),n),n)(e));function o(n){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(n)}},previous:qo},jo={tokenize(t,e,n){const r=this;let o="",i=0;return e=>72!==e&&104!==e||!No(r.previous)||$o(r.events)?n(e):(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),o+=String.fromCodePoint(e),t.consume(e),l);function l(e){if(He(e)&&5>o.length)return o+=String.fromCodePoint(e),t.consume(e),l;if(58===e){const n=o.toLowerCase();if("http"===n||"https"===n)return t.consume(e),s}return n(e)}function s(e){return 47===e?(t.consume(e),i?a:(i=1,s)):n(e)}function a(e){return null===e||Ne(e)||Ze(e)||Ke(e)||Qe(e)?n(e):t.attempt(Ao,t.attempt(Fo,u),n)(e)}function u(n){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(n)}},previous:No},zo={tokenize(t,e,n){const r=this;let o,i;return e=>_o(e)&&Uo(r.previous)&&!$o(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),l(e)):n(e);function l(e){return _o(e)?(t.consume(e),l):64===e?(t.consume(e),s):n(e)}function s(e){return 46===e?t.check(Po,u,a)(e):45===e||95===e||Be(e)?(i=1,t.consume(e),s):u(e)}function a(e){return t.consume(e),o=1,s}function u(l){return i&&o&&He(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(l)):n(l)}},previous:Uo},Ho={};let Bo=48;for(;123>Bo;)Ho[Bo]=zo,Bo++,58===Bo?Bo=65:91===Bo&&(Bo=97);function qo(t){return null===t||40===t||42===t||95===t||91===t||93===t||126===t||Ze(t)}function No(t){return!He(t)}function Uo(t){return!(47===t||_o(t))}function _o(t){return 43===t||45===t||46===t||95===t||Be(t)}function $o(t){let e=t.length,n=0;for(;e--;){const r=t[e][1];if(("labelLink"===r.type||"labelImage"===r.type)&&!r._balanced){n=1;break}if(r._gfmAutolinkLiteralWalkedInto){n=0;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=1),n}Ho[43]=zo,Ho[45]=zo,Ho[46]=zo,Ho[95]=zo,Ho[72]=[zo,jo],Ho[104]=[zo,jo],Ho[87]=[zo,Io],Ho[119]=[zo,Io];const Vo={tokenize(t,e,n){const r=this;return Ge(t,(t=>{const o=r.events[r.events.length-1];return o&&"gfmFootnoteDefinitionIndent"===o[1].type&&4===o[2].sliceSerialize(o[1],1).length?e(t):n(t)}),"gfmFootnoteDefinitionIndent",5)},partial:1};function Zo(t,e,n){const r=this;let o=r.events.length;const i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l;for(;o--;){const t=r.events[o][1];if("labelImage"===t.type){l=t;break}if("gfmFootnoteCall"===t.type||"labelLink"===t.type||"label"===t.type||"image"===t.type||"link"===t.type)break}return o=>{if(!l||!l._balanced)return n(o);const s=ze(r.sliceSerialize({start:l.end,end:r.now()}));return 94===s.codePointAt(0)&&i.includes(s.slice(1))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(o),t.exit("gfmFootnoteCallLabelMarker"),e(o)):n(o)}}function Wo(t,e){let n=t.length;for(;n--&&("labelImage"!==t[n][1].type||"enter"!==t[n][0]););t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},o={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};o.end.column++,o.end.offset++,o.end._bufferIndex++;const i={type:"gfmFootnoteCallString",start:Object.assign({},o.end),end:Object.assign({},t[t.length-1][1].start)},l={type:"chunkString",contentType:"string",start:Object.assign({},i.start),end:Object.assign({},i.end)};return t.splice(n,t.length-n+1,t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",o,e],["exit",o,e],["enter",i,e],["enter",l,e],["exit",l,e],["exit",i,e],t[t.length-2],t[t.length-1],["exit",r,e]),t}function Qo(t,e,n){const r=this,o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i,l=0;return e=>(t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(e),t.exit("gfmFootnoteCallLabelMarker"),s);function s(e){return 94!==e?n(e):(t.enter("gfmFootnoteCallMarker"),t.consume(e),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",a)}function a(s){if(l>999||93===s&&!i||null===s||91===s||Ze(s))return n(s);if(93===s){t.exit("chunkString");const i=t.exit("gfmFootnoteCallString");return o.includes(ze(r.sliceSerialize(i)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(s),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(s)}return Ze(s)||(i=1),l++,t.consume(s),92===s?u:a}function u(e){return 91===e||92===e||93===e?(t.consume(e),l++,a):a(e)}}function Ko(t,e,n){const r=this,o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i,l,s=0;return e=>(t.enter("gfmFootnoteDefinition")._container=1,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(e),t.exit("gfmFootnoteDefinitionLabelMarker"),a);function a(e){return 94===e?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(e),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",u):n(e)}function u(e){if(s>999||93===e&&!l||null===e||91===e||Ze(e))return n(e);if(93===e){t.exit("chunkString");const n=t.exit("gfmFootnoteDefinitionLabelString");return i=ze(r.sliceSerialize(n)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(e),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),f}return Ze(e)||(l=1),s++,t.consume(e),92===e?c:u}function c(e){return 91===e||92===e||93===e?(t.consume(e),s++,u):u(e)}function f(e){return 58===e?(t.enter("definitionMarker"),t.consume(e),t.exit("definitionMarker"),o.includes(i)||o.push(i),Ge(t,h,"gfmFootnoteDefinitionWhitespace")):n(e)}function h(t){return e(t)}}function Yo(t,e,n){return t.check(an,e,t.attempt(Vo,e,n))}function Xo(t){t.exit("gfmFootnoteDefinition")}function Go(t){let e=(t||{}).singleTilde;const n={tokenize(t,n,r){const o=this.previous,i=this.events;let l=0;return e=>126===o&&"characterEscape"!==i[i.length-1][1].type?r(e):(t.enter("strikethroughSequenceTemporary"),s(e));function s(i){const a=nn(o);if(126===i)return l>1?r(i):(t.consume(i),l++,s);if(2>l&&!e)return r(i);const u=t.exit("strikethroughSequenceTemporary"),c=nn(i);return u._open=!c||2===c&&!!a,u._close=!a||2===a&&!!c,n(i)}},resolveAll(t,e){let n=-1;for(;++n<t.length;)if("enter"===t[n][0]&&"strikethroughSequenceTemporary"===t[n][1].type&&t[n][1]._close){let r=n;for(;r--;)if("exit"===t[r][0]&&"strikethroughSequenceTemporary"===t[r][1].type&&t[r][1]._open&&t[n][1].end.offset-t[n][1].start.offset==t[r][1].end.offset-t[r][1].start.offset){t[n][1].type="strikethroughSequence",t[r][1].type="strikethroughSequence";const o={type:"strikethrough",start:Object.assign({},t[r][1].start),end:Object.assign({},t[n][1].end)},i={type:"strikethroughText",start:Object.assign({},t[r][1].end),end:Object.assign({},t[n][1].start)},l=[["enter",o,e],["enter",t[r][1],e],["exit",t[r][1],e],["enter",i,e]],s=e.parser.constructs.insideSpan.null;s&&Le(l,l.length,0,rn(s,t.slice(r+1,n),e)),Le(l,l.length,0,[["exit",i,e],["enter",t[n][1],e],["exit",t[n][1],e],["exit",o,e]]),Le(t,r-1,n-r+3,l),n=r+l.length-2;break}}for(n=-1;++n<t.length;)"strikethroughSequenceTemporary"===t[n][1].type&&(t[n][1].type="data");return t}};return null==e&&(e=1),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}}}class Jo{constructor(){this.map=[]}add(t,e,n){((t,e,n,r)=>{let o=0;if(0!==n||0!==r.length){for(;t.map.length>o;){if(t.map[o][0]===e)return t.map[o][1]+=n,void t.map[o][2].push(...r);o+=1}t.map.push([e,n,r])}})(this,t,e,n)}consume(t){if(this.map.sort(((t,e)=>t[0]-e[0])),0===this.map.length)return;let e=this.map.length;const n=[];for(;e>0;)e-=1,n.push(t.slice(this.map[e][0]+this.map[e][1]),this.map[e][2]),t.length=this.map[e][0];n.push([...t]),t.length=0;let r=n.pop();for(;r;)t.push(...r),r=n.pop();this.map.length=0}}function ti(t,e){let n=0;const r=[];for(;t.length>e;){const o=t[e];if(n){if("enter"===o[0])"tableContent"===o[1].type&&r.push("tableDelimiterMarker"===t[e+1][1].type?"left":"none");else if("tableContent"===o[1].type){if("tableDelimiterMarker"===t[e-1][1].type){const t=r.length-1;r[t]="left"===r[t]?"center":"right"}}else if("tableDelimiterRow"===o[1].type)break}else"enter"===o[0]&&"tableDelimiterRow"===o[1].type&&(n=1);e+=1}return r}function ei(t,e,n){const r=this;let o,i=0,l=0;return t=>{let e=r.events.length-1;for(;e>-1;){const t=r.events[e][1].type;if("lineEnding"!==t&&"linePrefix"!==t)break;e--}const o=e>-1?r.events[e][1].type:null,i="tableHead"===o||"tableRow"===o?y:s;return i===y&&r.parser.lazy[r.now().line]?n(t):i(t)};function s(e){return t.enter("tableHead"),t.enter("tableRow"),(t=>(124===t||(o=1,l+=1),a(t)))(e)}function a(e){return null===e?n(e):Ve(e)?l>1?(l=0,r.interrupt=1,t.exit("tableRow"),t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),f):n(e):We(e)?Ge(t,a,"whitespace")(e):(l+=1,o&&(o=0,i+=1),124===e?(t.enter("tableCellDivider"),t.consume(e),t.exit("tableCellDivider"),o=1,a):(t.enter("data"),u(e)))}function u(e){return null===e||124===e||Ze(e)?(t.exit("data"),a(e)):(t.consume(e),92===e?c:u)}function c(e){return 92===e||124===e?(t.consume(e),u):u(e)}function f(e){return r.interrupt=0,r.parser.lazy[r.now().line]?n(e):(t.enter("tableDelimiterRow"),o=0,We(e)?Ge(t,h,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(e):h(e))}function h(e){return 45===e||58===e?p(e):124===e?(o=1,t.enter("tableCellDivider"),t.consume(e),t.exit("tableCellDivider"),d):k(e)}function d(e){return We(e)?Ge(t,p,"whitespace")(e):p(e)}function p(e){return 58===e?(l+=1,o=1,t.enter("tableDelimiterMarker"),t.consume(e),t.exit("tableDelimiterMarker"),g):45===e?(l+=1,g(e)):null===e||Ve(e)?v(e):k(e)}function g(e){return 45===e?(t.enter("tableDelimiterFiller"),m(e)):k(e)}function m(e){return 45===e?(t.consume(e),m):58===e?(o=1,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(e),t.exit("tableDelimiterMarker"),b):(t.exit("tableDelimiterFiller"),b(e))}function b(e){return We(e)?Ge(t,v,"whitespace")(e):v(e)}function v(n){return 124===n?h(n):(null===n||Ve(n))&&o&&i===l?(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(n)):k(n)}function k(t){return n(t)}function y(e){return t.enter("tableRow"),x(e)}function x(n){return 124===n?(t.enter("tableCellDivider"),t.consume(n),t.exit("tableCellDivider"),x):null===n||Ve(n)?(t.exit("tableRow"),e(n)):We(n)?Ge(t,x,"whitespace")(n):(t.enter("data"),w(n))}function w(e){return null===e||124===e||Ze(e)?(t.exit("data"),x(e)):(t.consume(e),92===e?S:w)}function S(e){return 92===e||124===e?(t.consume(e),w):w(e)}}function ni(t,e){let n,r,o,i=-1,l=1,s=0,a=[0,0,0,0],u=[0,0,0,0],c=0,f=0;const h=new Jo;for(;++i<t.length;){const d=t[i],p=d[1];"enter"===d[0]?"tableHead"===p.type?(c=0,0!==f&&(oi(h,e,f,n,r),r=void 0,f=0),n={type:"table",start:Object.assign({},p.start),end:Object.assign({},p.end)},h.add(i,0,[["enter",n,e]])):"tableRow"===p.type||"tableDelimiterRow"===p.type?(l=1,o=void 0,a=[0,0,0,0],u=[0,i+1,0,0],c&&(c=0,r={type:"tableBody",start:Object.assign({},p.start),end:Object.assign({},p.end)},h.add(i,0,[["enter",r,e]])),s="tableDelimiterRow"===p.type?2:r?3:1):!s||"data"!==p.type&&"tableDelimiterMarker"!==p.type&&"tableDelimiterFiller"!==p.type?"tableCellDivider"===p.type&&(l?l=0:(0!==a[1]&&(u[0]=u[1],o=ri(h,e,a,s,void 0,o)),a=u,u=[a[1],i,0,0])):(l=0,0===u[2]&&(0!==a[1]&&(u[0]=u[1],o=ri(h,e,a,s,void 0,o),a=[0,0,0,0]),u[2]=i)):"tableHead"===p.type?(c=1,f=i):"tableRow"===p.type||"tableDelimiterRow"===p.type?(f=i,0!==a[1]?(u[0]=u[1],o=ri(h,e,a,s,i,o)):0!==u[1]&&(o=ri(h,e,u,s,i,o)),s=0):!s||"data"!==p.type&&"tableDelimiterMarker"!==p.type&&"tableDelimiterFiller"!==p.type||(u[3]=i)}for(0!==f&&oi(h,e,f,n,r),h.consume(e.events),i=-1;++i<e.events.length;){const t=e.events[i];"enter"===t[0]&&"table"===t[1].type&&(t[1]._align=ti(e.events,i))}return t}function ri(t,e,n,r,o,i){const l=1===r?"tableHeader":2===r?"tableDelimiter":"tableData";0!==n[0]&&(i.end=Object.assign({},ii(e.events,n[0])),t.add(n[0],0,[["exit",i,e]]));const s=ii(e.events,n[1]);if(i={type:l,start:Object.assign({},s),end:Object.assign({},s)},t.add(n[1],0,[["enter",i,e]]),0!==n[2]){const o=ii(e.events,n[2]),i=ii(e.events,n[3]),l={type:"tableContent",start:Object.assign({},o),end:Object.assign({},i)};if(t.add(n[2],0,[["enter",l,e]]),2!==r){const r=e.events[n[2]];r[1].end=Object.assign({},e.events[n[3]][1].end),r[1].type="chunkText",r[1].contentType="text",n[3]>n[2]+1&&t.add(n[2]+1,n[3]-n[2]-1,[])}t.add(n[3]+1,0,[["exit",l,e]])}return void 0!==o&&(i.end=Object.assign({},ii(e.events,o)),t.add(o,0,[["exit",i,e]]),i=void 0),i}function oi(t,e,n,r,o){const i=[],l=ii(e.events,n);o&&(o.end=Object.assign({},l),i.push(["exit",o,e])),r.end=Object.assign({},l),i.push(["exit",r,e]),t.add(n+1,0,i)}function ii(t,e){const n=t[e];return n[1]["enter"===n[0]?"start":"end"]}const li={tokenize(t,e,n){const r=this;return e=>null===r.previous&&r._gfmTasklistFirstContentOfListItem?(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(e),t.exit("taskListCheckMarker"),o):n(e);function o(e){return Ze(e)?(t.enter("taskListCheckValueUnchecked"),t.consume(e),t.exit("taskListCheckValueUnchecked"),i):88===e||120===e?(t.enter("taskListCheckValueChecked"),t.consume(e),t.exit("taskListCheckValueChecked"),i):n(e)}function i(e){return 93===e?(t.enter("taskListCheckMarker"),t.consume(e),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),l):n(e)}function l(r){return Ve(r)?e(r):We(r)?t.check({tokenize:si},e,n)(r):n(r)}}};function si(t,e,n){return Ge(t,(t=>null===t?n(t):e(t)),"whitespace")}const ai={};function ui(t){const e=t||ai,n=this.data(),r=n.micromarkExtensions||(n.micromarkExtensions=[]),o=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),i=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);r.push((t=>Re([{text:Ho},{document:{91:{tokenize:Ko,continuation:{tokenize:Yo},exit:Xo}},text:{91:{tokenize:Qo},93:{add:"after",tokenize:Zo,resolveTo:Wo}}},Go(t),{flow:{null:{tokenize:ei,resolveAll:ni}}},{text:{91:li}}]))(e)),o.push([{transforms:[Ar],enter:{literalAutolink:Cr,literalAutolinkEmail:Mr,literalAutolinkHttp:Mr,literalAutolinkWww:Mr},exit:{literalAutolink:Lr,literalAutolinkEmail:Dr,literalAutolinkHttp:Tr,literalAutolinkWww:Or}},{enter:{gfmFootnoteDefinition:Ir,gfmFootnoteDefinitionLabelString:jr,gfmFootnoteCall:Br,gfmFootnoteCallString:qr},exit:{gfmFootnoteDefinition:Hr,gfmFootnoteDefinitionLabelString:zr,gfmFootnoteCall:Ur,gfmFootnoteCallString:Nr}},{canContainEols:["delete"],enter:{strikethrough:Wr},exit:{strikethrough:Qr}},{enter:{table:ko,tableData:So,tableHeader:So,tableRow:xo},exit:{codeText:Eo,table:yo,tableData:wo,tableHeader:wo,tableRow:wo}},{exit:{taskListCheckValueChecked:To,taskListCheckValueUnchecked:To,paragraph:Oo}}]),i.push((t=>({extensions:[{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Sr,notInConstruct:Er},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Sr,notInConstruct:Er},{character:":",before:"[ps]",after:"\\/",inConstruct:Sr,notInConstruct:Er}]},{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition:$r,footnoteReference:_r}},{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Zr}],handlers:{delete:Kr}},Mo(t),{unsafe:[{atBreak:1,character:"-",after:"[:|-]"}],handlers:{listItem:Do}}]}))(e))}function ci(t,e){const n=e.referenceType;let r="]";if("collapsed"===n?r+="[]":"full"===n&&(r+="["+(e.label||e.identifier)+"]"),"imageReference"===e.type)return[{type:"text",value:"!["+e.alt+r}];const o=t.all(e),i=o[0];i&&"text"===i.type?i.value="["+i.value:o.unshift({type:"text",value:"["});const l=o[o.length-1];return l&&"text"===l.type?l.value+=r:o.push({type:"text",value:r}),o}function fi(t){const e=t.spread;return null==e?t.children.length>1:e}const hi=pi("end"),di=pi("start");function pi(t){return e=>{const n=e&&e.position&&e.position[t]||{};if("number"==typeof n.line&&n.line>0&&"number"==typeof n.column&&n.column>0)return{line:n.line,column:n.column,offset:"number"==typeof n.offset&&n.offset>-1?n.offset:void 0}}}const gi=9,mi=32;function bi(t){const e=t+"",n=/\r?\n|\r/g;let r=n.exec(e),o=0;const i=[];for(;r;)i.push(vi(e.slice(o,r.index),o>0,1),r[0]),o=r.index+r[0].length,r=n.exec(e);return i.push(vi(e.slice(o),o>0,0)),i.join("")}function vi(t,e,n){let r=0,o=t.length;if(e){let e=t.codePointAt(r);for(;e===gi||e===mi;)r++,e=t.codePointAt(r)}if(n){let e=t.codePointAt(o-1);for(;e===gi||e===mi;)o--,e=t.codePointAt(o-1)}return o>r?t.slice(r,o):""}const ki={blockquote(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),1)};return t.patch(e,n),t.applyData(e,n)},break(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:"\n"}]},code(t,e){const n=e.value?e.value+"\n":"",r={};e.lang&&(r.className=["language-"+e.lang]);let o={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(o.data={meta:e.meta}),t.patch(e,o),o=t.applyData(e,o),o={type:"element",tagName:"pre",properties:{},children:[o]},t.patch(e,o),o},delete(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)},emphasis(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)},footnoteReference(t,e){const n="string"==typeof t.options.clobberPrefix?t.options.clobberPrefix:"user-content-",r=(e.identifier+"").toUpperCase(),o=Xe(r.toLowerCase()),i=t.footnoteOrder.indexOf(r);let l,s=t.footnoteCounts.get(r);void 0===s?(s=0,t.footnoteOrder.push(r),l=t.footnoteOrder.length):l=i+1,s+=1,t.footnoteCounts.set(r,s);const a={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+o,id:n+"fnref-"+o+(s>1?"-"+s:""),dataFootnoteRef:1,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:l+""}]};t.patch(e,a);const u={type:"element",tagName:"sup",properties:{},children:[a]};return t.patch(e,u),t.applyData(e,u)},heading(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)},html(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}},imageReference(t,e){const n=t.definitionById.get((e.identifier+"").toUpperCase());if(!n)return ci(t,e);const r={src:Xe(n.url||""),alt:e.alt};null!=n.title&&(r.title=n.title);const o={type:"element",tagName:"img",properties:r,children:[]};return t.patch(e,o),t.applyData(e,o)},image(t,e){const n={src:Xe(e.url)};null!=e.alt&&(n.alt=e.alt),null!=e.title&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)},inlineCode(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)},linkReference(t,e){const n=t.definitionById.get((e.identifier+"").toUpperCase());if(!n)return ci(t,e);const r={href:Xe(n.url||"")};null!=n.title&&(r.title=n.title);const o={type:"element",tagName:"a",properties:r,children:t.all(e)};return t.patch(e,o),t.applyData(e,o)},link(t,e){const n={href:Xe(e.url)};null!=e.title&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)},listItem(t,e,n){const r=t.all(e),o=n?(t=>{let e=0;if("list"===t.type){e=t.spread||0;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=fi(n[r])}return e})(n):fi(e),i={},l=[];if("boolean"==typeof e.checked){const t=r[0];let n;t&&"element"===t.type&&"p"===t.tagName?n=t:(n={type:"element",tagName:"p",properties:{},children:[]},r.unshift(n)),n.children.length>0&&n.children.unshift({type:"text",value:" "}),n.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:1},children:[]}),i.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const t=r[s];(o||0!==s||"element"!==t.type||"p"!==t.tagName)&&l.push({type:"text",value:"\n"}),"element"!==t.type||"p"!==t.tagName||o?l.push(t):l.push(...t.children)}const a=r[r.length-1];a&&(o||"element"!==a.type||"p"!==a.tagName)&&l.push({type:"text",value:"\n"});const u={type:"element",tagName:"li",properties:i,children:l};return t.patch(e,u),t.applyData(e,u)},list(t,e){const n={},r=t.all(e);let o=-1;for("number"==typeof e.start&&1!==e.start&&(n.start=e.start);++o<r.length;){const t=r[o];if("element"===t.type&&"li"===t.tagName&&t.properties&&Array.isArray(t.properties.className)&&t.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,1)};return t.patch(e,i),t.applyData(e,i)},paragraph(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)},root(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)},strong(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)},table(t,e){const n=t.all(e),r=n.shift(),o=[];if(r){const n={type:"element",tagName:"thead",properties:{},children:t.wrap([r],1)};t.patch(e.children[0],n),o.push(n)}if(n.length>0){const r={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,1)},i=di(e.children[1]),l=hi(e.children[e.children.length-1]);i&&l&&(r.position={start:i,end:l}),o.push(r)}const i={type:"element",tagName:"table",properties:{},children:t.wrap(o,1)};return t.patch(e,i),t.applyData(e,i)},tableCell(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)},tableRow(t,e,n){const r=n?n.children:void 0,o=0===(r?r.indexOf(e):1)?"th":"td",i=n&&"table"===n.type?n.align:void 0,l=i?i.length:e.children.length;let s=-1;const a=[];for(;++s<l;){const n=e.children[s],r={},l=i?i[s]:void 0;l&&(r.align=l);let u={type:"element",tagName:o,properties:r,children:[]};n&&(u.children=t.all(n),t.patch(n,u),u=t.applyData(n,u)),a.push(u)}const u={type:"element",tagName:"tr",properties:{},children:t.wrap(a,1)};return t.patch(e,u),t.applyData(e,u)},text(t,e){const n={type:"text",value:bi(e.value+"")};return t.patch(e,n),t.applyData(e,n)},thematicBreak(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)},toml:yi,yaml:yi,definition:yi,footnoteDefinition:yi};function yi(){}const xi="object"==typeof self?self:globalThis,wi=t=>((t,e)=>{const n=(e,n)=>(t.set(n,e),e),r=o=>{if(t.has(o))return t.get(o);const[i,l]=e[o];switch(i){case 0:case-1:return n(l,o);case 1:{const t=n([],o);for(const e of l)t.push(r(e));return t}case 2:{const t=n({},o);for(const[e,n]of l)t[r(e)]=r(n);return t}case 3:return n(new Date(l),o);case 4:{const{source:t,flags:e}=l;return n(RegExp(t,e),o)}case 5:{const t=n(new Map,o);for(const[e,n]of l)t.set(r(e),r(n));return t}case 6:{const t=n(new Set,o);for(const e of l)t.add(r(e));return t}case 7:{const{name:t,message:e}=l;return n(new xi[t](e),o)}case 8:return n(BigInt(l),o);case"BigInt":return n(Object(BigInt(l)),o)}return n(new xi[i](l),o)};return r})(new Map,t)(0),Si="",{toString:Ei}={},{keys:Ci}=Object,Mi=t=>{const e=typeof t;if("object"!==e||!t)return[0,e];const n=Ei.call(t).slice(8,-1);switch(n){case"Array":return[1,Si];case"Object":return[2,Si];case"Date":return[3,Si];case"RegExp":return[4,Si];case"Map":return[5,Si];case"Set":return[6,Si]}return n.includes("Array")?[1,n]:n.includes("Error")?[7,n]:[2,n]},Ti=([t,e])=>0===t&&("function"===e||"symbol"===e),Oi=(t,{json:e,lossy:n}={})=>{const r=[];return((t,e,n,r)=>{const o=(t,e)=>{const o=r.push(t)-1;return n.set(e,o),o},i=r=>{if(n.has(r))return n.get(r);let[l,s]=Mi(r);switch(l){case 0:{let e=r;switch(s){case"bigint":l=8,e=""+r;break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+s);e=null;break;case"undefined":return o([-1],r)}return o([l,e],r)}case 1:{if(s)return o([s,[...r]],r);const t=[],e=o([l,t],r);for(const e of r)t.push(i(e));return e}case 2:{if(s)switch(s){case"BigInt":return o([s,""+r],r);case"Boolean":case"Number":case"String":return o([s,r.valueOf()],r)}if(e&&"toJSON"in r)return i(r.toJSON());const n=[],a=o([l,n],r);for(const e of Ci(r))!t&&Ti(Mi(r[e]))||n.push([i(e),i(r[e])]);return a}case 3:return o([l,r.toISOString()],r);case 4:{const{source:t,flags:e}=r;return o([l,{source:t,flags:e}],r)}case 5:{const e=[],n=o([l,e],r);for(const[n,o]of r)(t||!Ti(Mi(n))&&!Ti(Mi(o)))&&e.push([i(n),i(o)]);return n}case 6:{const e=[],n=o([l,e],r);for(const n of r)!t&&Ti(Mi(n))||e.push(i(n));return n}}const{message:a}=r;return o([l,{name:s,message:a}],r)};return i})(!(e||n),!!e,new Map,r)(t),r};var Di="function"==typeof structuredClone?(t,e)=>e&&("json"in e||"lossy"in e)?wi(Oi(t,e)):structuredClone(t):(t,e)=>wi(Oi(t,e));function Li(t,e){const n=[{type:"text",value:"↩"}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:e+""}]}),n}function Ai(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}const Fi={}.hasOwnProperty,Ri={};function Pi(t,e){t.position&&(e.position=(t=>{const e=di(t),n=hi(t);if(e&&n)return{start:e,end:n}})(t))}function Ii(t,e){let n=e;if(t&&t.data){const e=t.data.hName,r=t.data.hChildren,o=t.data.hProperties;"string"==typeof e&&("element"===n.type?n.tagName=e:n={type:"element",tagName:e,properties:{},children:"children"in n?n.children:[n]}),"element"===n.type&&o&&Object.assign(n.properties,Di(o)),"children"in n&&n.children&&null!=r&&(n.children=r)}return n}function ji(t,e){const n=e.data||{},r=!("value"in e)||Fi.call(n,"hProperties")||Fi.call(n,"hChildren")?{type:"element",tagName:"div",properties:{},children:t.all(e)}:{type:"text",value:e.value};return t.patch(e,r),t.applyData(e,r)}function zi(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:"\n"});++r<t.length;)r&&n.push({type:"text",value:"\n"}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:"\n"}),n}function Hi(t){let e=0,n=t.charCodeAt(e);for(;9===n||32===n;)e++,n=t.charCodeAt(e);return t.slice(e)}function Bi(t,e){const n=((t,e)=>{const n=e||Ri,r=new Map,o=new Map,i=new Map,l={...ki,...n.handlers},s={all(t){const e=[];if("children"in t){const n=t.children;let r=-1;for(;++r<n.length;){const o=s.one(n[r],t);if(o){if(r&&"break"===n[r-1].type&&(Array.isArray(o)||"text"!==o.type||(o.value=Hi(o.value)),!Array.isArray(o)&&"element"===o.type)){const t=o.children[0];t&&"text"===t.type&&(t.value=Hi(t.value))}Array.isArray(o)?e.push(...o):e.push(o)}}}return e},applyData:Ii,definitionById:r,footnoteById:o,footnoteCounts:i,footnoteOrder:[],handlers:l,one(t,e){const n=t.type,r=s.handlers[n];if(Fi.call(s.handlers,n)&&r)return r(s,t,e);if(s.options.passThrough&&s.options.passThrough.includes(n)){if("children"in t){const{children:e,...n}=t,r=Di(n);return r.children=s.all(t),r}return Di(t)}return(s.options.unknownHandler||ji)(s,t,e)},options:n,patch:Pi,wrap:zi};return io(t,(t=>{if("definition"===t.type||"footnoteDefinition"===t.type){const e="definition"===t.type?r:o,n=(t.identifier+"").toUpperCase();e.has(n)||e.set(n,t)}})),s})(t,e),r=n.one(t,void 0),o=(t=>{const e="string"==typeof t.options.clobberPrefix?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||Li,r=t.options.footnoteBackLabel||Ai,o=t.options.footnoteLabel||"Footnotes",i=t.options.footnoteLabelTagName||"h2",l=t.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let a=-1;for(;++a<t.footnoteOrder.length;){const o=t.footnoteById.get(t.footnoteOrder[a]);if(!o)continue;const i=t.all(o),l=(o.identifier+"").toUpperCase(),u=Xe(l.toLowerCase());let c=0;const f=[],h=t.footnoteCounts.get(l);for(;void 0!==h&&++c<=h;){f.length>0&&f.push({type:"text",value:" "});let t="string"==typeof n?n:n(a,c);"string"==typeof t&&(t={type:"text",value:t}),f.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+u+(c>1?"-"+c:""),dataFootnoteBackref:"",ariaLabel:"string"==typeof r?r:r(a,c),className:["data-footnote-backref"]},children:Array.isArray(t)?t:[t]})}const d=i[i.length-1];if(d&&"element"===d.type&&"p"===d.tagName){const t=d.children[d.children.length-1];t&&"text"===t.type?t.value+=" ":d.children.push({type:"text",value:" "}),d.children.push(...f)}else i.push(...f);const p={type:"element",tagName:"li",properties:{id:e+"fn-"+u},children:t.wrap(i,1)};t.patch(o,p),s.push(p)}if(0!==s.length)return{type:"element",tagName:"section",properties:{dataFootnotes:1,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...Di(l),id:"footnote-label"},children:[{type:"text",value:o}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:t.wrap(s,1)},{type:"text",value:"\n"}]}})(n),i=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return o&&i.children.push({type:"text",value:"\n"},o),i}function qi(t,e){return t&&"run"in t?async(n,r)=>{const o=Bi(n,{file:r,...e});await t.run(o,r)}:(n,r)=>Bi(n,{file:r,...e||t})}const Ni=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"];class Ui{constructor(t,e,n){this.property=t,this.normal=e,n&&(this.space=n)}}function _i(t,e){const n={},r={};let o=-1;for(;++o<t.length;)Object.assign(n,t[o].property),Object.assign(r,t[o].normal);return new Ui(n,r,e)}function $i(t){return t.toLowerCase()}Ui.prototype.property={},Ui.prototype.normal={},Ui.prototype.space=null;class Vi{constructor(t,e){this.property=t,this.attribute=e}}Vi.prototype.space=null,Vi.prototype.boolean=0,Vi.prototype.booleanish=0,Vi.prototype.overloadedBoolean=0,Vi.prototype.number=0,Vi.prototype.commaSeparated=0,Vi.prototype.spaceSeparated=0,Vi.prototype.commaOrSpaceSeparated=0,Vi.prototype.mustUseProperty=0,Vi.prototype.defined=0;let Zi=0;const Wi=tl(),Qi=tl(),Ki=tl(),Yi=tl(),Xi=tl(),Gi=tl(),Ji=tl();function tl(){return 2**++Zi}var el=Object.freeze({__proto__:null,boolean:Wi,booleanish:Qi,commaOrSpaceSeparated:Ji,commaSeparated:Gi,number:Yi,overloadedBoolean:Ki,spaceSeparated:Xi});const nl=Object.keys(el);class rl extends Vi{constructor(t,e,n,r){let o=-1;if(super(t,e),ol(this,"space",r),"number"==typeof n)for(;++o<nl.length;){const t=nl[o];ol(this,nl[o],(n&el[t])===el[t])}}}function ol(t,e,n){n&&(t[e]=n)}rl.prototype.defined=1;const il={}.hasOwnProperty;function ll(t){const e={},n={};let r;for(r in t.properties)if(il.call(t.properties,r)){const o=t.properties[r],i=new rl(r,t.transform(t.attributes||{},r),o,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(i.mustUseProperty=1),e[r]=i,n[$i(r)]=r,n[$i(i.attribute)]=r}return new Ui(e,n,t.space)}const sl=ll({space:"xlink",transform:(t,e)=>"xlink:"+e.slice(5).toLowerCase(),properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),al=ll({space:"xml",transform:(t,e)=>"xml:"+e.slice(3).toLowerCase(),properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function ul(t,e){return e in t?t[e]:e}function cl(t,e){return ul(t,e.toLowerCase())}const fl=ll({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:cl,properties:{xmlns:null,xmlnsXLink:null}}),hl=ll({transform:(t,e)=>"role"===e?e:"aria-"+e.slice(4).toLowerCase(),properties:{ariaActiveDescendant:null,ariaAtomic:Qi,ariaAutoComplete:null,ariaBusy:Qi,ariaChecked:Qi,ariaColCount:Yi,ariaColIndex:Yi,ariaColSpan:Yi,ariaControls:Xi,ariaCurrent:null,ariaDescribedBy:Xi,ariaDetails:null,ariaDisabled:Qi,ariaDropEffect:Xi,ariaErrorMessage:null,ariaExpanded:Qi,ariaFlowTo:Xi,ariaGrabbed:Qi,ariaHasPopup:null,ariaHidden:Qi,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Xi,ariaLevel:Yi,ariaLive:null,ariaModal:Qi,ariaMultiLine:Qi,ariaMultiSelectable:Qi,ariaOrientation:null,ariaOwns:Xi,ariaPlaceholder:null,ariaPosInSet:Yi,ariaPressed:Qi,ariaReadOnly:Qi,ariaRelevant:null,ariaRequired:Qi,ariaRoleDescription:Xi,ariaRowCount:Yi,ariaRowIndex:Yi,ariaRowSpan:Yi,ariaSelected:Qi,ariaSetSize:Yi,ariaSort:null,ariaValueMax:Yi,ariaValueMin:Yi,ariaValueNow:Yi,ariaValueText:null,role:null}}),dl=ll({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:cl,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Gi,acceptCharset:Xi,accessKey:Xi,action:null,allow:null,allowFullScreen:Wi,allowPaymentRequest:Wi,allowUserMedia:Wi,alt:null,as:null,async:Wi,autoCapitalize:null,autoComplete:Xi,autoFocus:Wi,autoPlay:Wi,blocking:Xi,capture:null,charSet:null,checked:Wi,cite:null,className:Xi,cols:Yi,colSpan:null,content:null,contentEditable:Qi,controls:Wi,controlsList:Xi,coords:Yi|Gi,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Wi,defer:Wi,dir:null,dirName:null,disabled:Wi,download:Ki,draggable:Qi,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Wi,formTarget:null,headers:Xi,height:Yi,hidden:Wi,high:Yi,href:null,hrefLang:null,htmlFor:Xi,httpEquiv:Xi,id:null,imageSizes:null,imageSrcSet:null,inert:Wi,inputMode:null,integrity:null,is:null,isMap:Wi,itemId:null,itemProp:Xi,itemRef:Xi,itemScope:Wi,itemType:Xi,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Wi,low:Yi,manifest:null,max:null,maxLength:Yi,media:null,method:null,min:null,minLength:Yi,multiple:Wi,muted:Wi,name:null,nonce:null,noModule:Wi,noValidate:Wi,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Wi,optimum:Yi,pattern:null,ping:Xi,placeholder:null,playsInline:Wi,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Wi,referrerPolicy:null,rel:Xi,required:Wi,reversed:Wi,rows:Yi,rowSpan:Yi,sandbox:Xi,scope:null,scoped:Wi,seamless:Wi,selected:Wi,shadowRootClonable:Wi,shadowRootDelegatesFocus:Wi,shadowRootMode:null,shape:null,size:Yi,sizes:null,slot:null,span:Yi,spellCheck:Qi,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Yi,step:null,style:null,tabIndex:Yi,target:null,title:null,translate:null,type:null,typeMustMatch:Wi,useMap:null,value:Qi,width:Yi,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Xi,axis:null,background:null,bgColor:null,border:Yi,borderColor:null,bottomMargin:Yi,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Wi,declare:Wi,event:null,face:null,frame:null,frameBorder:null,hSpace:Yi,leftMargin:Yi,link:null,longDesc:null,lowSrc:null,marginHeight:Yi,marginWidth:Yi,noResize:Wi,noHref:Wi,noShade:Wi,noWrap:Wi,object:null,profile:null,prompt:null,rev:null,rightMargin:Yi,rules:null,scheme:null,scrolling:Qi,standby:null,summary:null,text:null,topMargin:Yi,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Yi,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Wi,disableRemotePlayback:Wi,prefix:null,property:null,results:Yi,security:null,unselectable:null}}),pl=ll({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:ul,properties:{about:Ji,accentHeight:Yi,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Yi,amplitude:Yi,arabicForm:null,ascent:Yi,attributeName:null,attributeType:null,azimuth:Yi,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Yi,by:null,calcMode:null,capHeight:Yi,className:Xi,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Yi,diffuseConstant:Yi,direction:null,display:null,dur:null,divisor:Yi,dominantBaseline:null,download:Wi,dx:null,dy:null,edgeMode:null,editable:null,elevation:Yi,enableBackground:null,end:null,event:null,exponent:Yi,externalResourcesRequired:null,fill:null,fillOpacity:Yi,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Gi,g2:Gi,glyphName:Gi,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Yi,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Yi,horizOriginX:Yi,horizOriginY:Yi,id:null,ideographic:Yi,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Yi,k:Yi,k1:Yi,k2:Yi,k3:Yi,k4:Yi,kernelMatrix:Ji,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Yi,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Yi,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Yi,overlineThickness:Yi,paintOrder:null,panose1:null,path:null,pathLength:Yi,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Xi,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Yi,pointsAtY:Yi,pointsAtZ:Yi,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ji,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ji,rev:Ji,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ji,requiredFeatures:Ji,requiredFonts:Ji,requiredFormats:Ji,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Yi,specularExponent:Yi,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Yi,strikethroughThickness:Yi,string:null,stroke:null,strokeDashArray:Ji,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Yi,strokeOpacity:Yi,strokeWidth:null,style:null,surfaceScale:Yi,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ji,tabIndex:Yi,tableValues:null,target:null,targetX:Yi,targetY:Yi,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ji,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Yi,underlineThickness:Yi,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Yi,values:null,vAlphabetic:Yi,vMathematical:Yi,vectorEffect:null,vHanging:Yi,vIdeographic:Yi,version:null,vertAdvY:Yi,vertOriginX:Yi,vertOriginY:Yi,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Yi,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),gl=/^data[-\w.:]+$/i,ml=/-[a-z]/g,bl=/[A-Z]/g;function vl(t){return"-"+t.toLowerCase()}function kl(t){return t.charAt(1).toUpperCase()}const yl=_i([al,sl,fl,hl,dl],"html"),xl=_i([al,sl,fl,hl,pl],"svg"),wl=/["&'<>`]/g,Sl=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,El=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,Cl=/[|\\{}()[\]^$+*?.]/g,Ml=new WeakMap,Tl=/[\dA-Fa-f]/,Ol=/\d/,Dl=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],Ll={nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",times:"×",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",divide:"÷",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",fnof:"ƒ",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",bull:"•",hellip:"…",prime:"′",Prime:"″",oline:"‾",frasl:"⁄",weierp:"℘",image:"ℑ",real:"ℜ",trade:"™",alefsym:"ℵ",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lArr:"⇐",uArr:"⇑",rArr:"⇒",dArr:"⇓",hArr:"⇔",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",lang:"〈",rang:"〉",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦",quot:'"',amp:"&",lt:"<",gt:">",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",permil:"‰",lsaquo:"‹",rsaquo:"›",euro:"€"},Al=["cent","copy","divide","gt","lt","not","para","times"],Fl={}.hasOwnProperty,Rl={};let Pl;for(Pl in Ll)Fl.call(Ll,Pl)&&(Rl[Ll[Pl]]=Pl);const Il=/[^\dA-Za-z]/;function jl(t,e,n){let r,o=((t,e,n)=>{const r="&#x"+t.toString(16).toUpperCase();return n&&e&&!Tl.test(String.fromCharCode(e))?r:r+";"})(t,e,n.omitOptionalSemicolons);if((n.useNamedReferences||n.useShortestReferences)&&(r=((t,e,n,r)=>{const o=String.fromCharCode(t);if(Fl.call(Rl,o)){const t=Rl[o],i="&"+t;return n&&Dl.includes(t)&&!Al.includes(t)&&(!r||e&&61!==e&&Il.test(String.fromCharCode(e)))?i:i+";"}return""})(t,e,n.omitOptionalSemicolons,n.attribute)),(n.useShortestReferences||!r)&&n.useShortestReferences){const r=((t,e,n)=>{const r="&#"+t;return n&&e&&!Ol.test(String.fromCharCode(e))?r:r+";"})(t,e,n.omitOptionalSemicolons);o.length>r.length&&(o=r)}return!r||n.useShortestReferences&&r.length>=o.length?o:r}function zl(t,e){return((t,e)=>{return t=t.replace(e.subset?(t=>{let e=Ml.get(t);return e||(e=(t=>{const e=[];let n=-1;for(;++n<t.length;)e.push(t[n].replace(Cl,"\\$&"));return RegExp("(?:"+e.join("|")+")","g")})(t),Ml.set(t,e)),e})(e.subset):wl,n),e.subset||e.escapeOnly?t:t.replace(Sl,((t,n,r)=>e.format(1024*(t.charCodeAt(0)-55296)+t.charCodeAt(1)-56320+65536,r.charCodeAt(n+2),e))).replace(El,n);function n(t,n,r){return e.format(t.charCodeAt(0),r.charCodeAt(n+1),e)}})(t,Object.assign({format:jl},e))}const Hl=/^>|^->|<!--|-->|--!>|<!-$/g,Bl=[">"],ql=["<",">"];function Nl(t,e){const n=e||{};return(""===t[t.length-1]?[...t,""]:t).join((n.padRight?" ":"")+","+(0==n.padLeft?"":" ")).trim()}function Ul(t){return t.join(" ").trim()}const _l=/[ \t\n\f\r]/g;function $l(t){return"object"==typeof t?"text"===t.type?Vl(t.value):0:Vl(t)}function Vl(t){return""===t.replace(_l,"")}const Zl=Kl(1),Wl=Kl(-1),Ql=[];function Kl(t){return(e,n,r)=>{const o=e?e.children:Ql;let i=(n||0)+t,l=o[i];if(!r)for(;l&&$l(l);)i+=t,l=o[i];return l}}const Yl={}.hasOwnProperty;function Xl(t){return(e,n,r)=>Yl.call(t,e.tagName)&&t[e.tagName](e,n,r)}const Gl=Xl({body(t,e,n){const r=Zl(n,e);return!r||"comment"!==r.type},caption:Jl,colgroup:Jl,dd(t,e,n){const r=Zl(n,e);return!r||"element"===r.type&&("dt"===r.tagName||"dd"===r.tagName)},dt(t,e,n){const r=Zl(n,e);return!(!r||"element"!==r.type||"dt"!==r.tagName&&"dd"!==r.tagName)},head:Jl,html(t,e,n){const r=Zl(n,e);return!r||"comment"!==r.type},li(t,e,n){const r=Zl(n,e);return!r||"element"===r.type&&"li"===r.tagName},optgroup(t,e,n){const r=Zl(n,e);return!r||"element"===r.type&&"optgroup"===r.tagName},option(t,e,n){const r=Zl(n,e);return!r||"element"===r.type&&("option"===r.tagName||"optgroup"===r.tagName)},p(t,e,n){const r=Zl(n,e);return r?"element"===r.type&&("address"===r.tagName||"article"===r.tagName||"aside"===r.tagName||"blockquote"===r.tagName||"details"===r.tagName||"div"===r.tagName||"dl"===r.tagName||"fieldset"===r.tagName||"figcaption"===r.tagName||"figure"===r.tagName||"footer"===r.tagName||"form"===r.tagName||"h1"===r.tagName||"h2"===r.tagName||"h3"===r.tagName||"h4"===r.tagName||"h5"===r.tagName||"h6"===r.tagName||"header"===r.tagName||"hgroup"===r.tagName||"hr"===r.tagName||"main"===r.tagName||"menu"===r.tagName||"nav"===r.tagName||"ol"===r.tagName||"p"===r.tagName||"pre"===r.tagName||"section"===r.tagName||"table"===r.tagName||"ul"===r.tagName):!n||!("element"===n.type&&("a"===n.tagName||"audio"===n.tagName||"del"===n.tagName||"ins"===n.tagName||"map"===n.tagName||"noscript"===n.tagName||"video"===n.tagName))},rp:ts,rt:ts,tbody(t,e,n){const r=Zl(n,e);return!r||"element"===r.type&&("tbody"===r.tagName||"tfoot"===r.tagName)},td:es,tfoot(t,e,n){return!Zl(n,e)},th:es,thead(t,e,n){const r=Zl(n,e);return!(!r||"element"!==r.type||"tbody"!==r.tagName&&"tfoot"!==r.tagName)},tr(t,e,n){const r=Zl(n,e);return!r||"element"===r.type&&"tr"===r.tagName}});function Jl(t,e,n){const r=Zl(n,e,1);return!r||"comment"!==r.type&&!("text"===r.type&&$l(r.value.charAt(0)))}function ts(t,e,n){const r=Zl(n,e);return!r||"element"===r.type&&("rp"===r.tagName||"rt"===r.tagName)}function es(t,e,n){const r=Zl(n,e);return!r||"element"===r.type&&("td"===r.tagName||"th"===r.tagName)}const ns=Xl({body(t){const e=Zl(t,-1,1);return!(e&&("comment"===e.type||"text"===e.type&&$l(e.value.charAt(0))||"element"===e.type&&("meta"===e.tagName||"link"===e.tagName||"script"===e.tagName||"style"===e.tagName||"template"===e.tagName)))},colgroup(t,e,n){const r=Wl(n,e),o=Zl(t,-1,1);return n&&r&&"element"===r.type&&"colgroup"===r.tagName&&Gl(r,n.children.indexOf(r),n)?0:!(!o||"element"!==o.type||"col"!==o.tagName)},head(t){const e=t.children,n=[];let r=-1;for(;++r<e.length;){const t=e[r];if("element"===t.type&&("title"===t.tagName||"base"===t.tagName)){if(n.includes(t.tagName))return 0;n.push(t.tagName)}}return e.length>0},html(t){const e=Zl(t,-1);return!e||"comment"!==e.type},tbody(t,e,n){const r=Wl(n,e),o=Zl(t,-1);return n&&r&&"element"===r.type&&("thead"===r.tagName||"tbody"===r.tagName)&&Gl(r,n.children.indexOf(r),n)?0:!(!o||"element"!==o.type||"tr"!==o.tagName)}}),rs={name:[["\t\n\f\r &/=>".split(""),"\t\n\f\r \"&'/=>`".split("")],["\0\t\n\f\r \"&'/<=>".split(""),"\0\t\n\f\r \"&'/<=>`".split("")]],unquoted:[["\t\n\f\r &>".split(""),"\0\t\n\f\r \"&'<=>`".split("")],["\0\t\n\f\r \"&'<=>`".split(""),"\0\t\n\f\r \"&'<=>`".split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]};function os(t,e,n){const r=((t,e)=>{const n=$i(e);let r=e,o=Vi;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&"data"===n.slice(0,4)&&gl.test(e)){if("-"===e.charAt(4)){const t=e.slice(5).replace(ml,kl);r="data"+t.charAt(0).toUpperCase()+t.slice(1)}else{const t=e.slice(4);if(!ml.test(t)){let n=t.replace(bl,vl);"-"!==n.charAt(0)&&(n="-"+n),e="data"+n}}o=rl}return new o(r,e)})(t.schema,e),o=t.settings.allowParseErrors&&"html"===t.schema.space?0:1,i=t.settings.allowDangerousCharacters?0:1;let l,s=t.quote;if(!r.overloadedBoolean||n!==r.attribute&&""!==n?(r.boolean||r.overloadedBoolean&&"string"!=typeof n)&&(n=!!n):n=1,null==n||0==n||"number"==typeof n&&Number.isNaN(n))return"";const a=zl(r.attribute,Object.assign({},t.settings.characterReferences,{subset:rs.name[o][i]}));return 1==n?a:(n=Array.isArray(n)?(r.commaSeparated?Nl:Ul)(n,{padLeft:!t.settings.tightCommaSeparatedLists}):n+"",t.settings.collapseEmptyAttributes&&!n?a:(t.settings.preferUnquoted&&(l=zl(n,Object.assign({},t.settings.characterReferences,{attribute:1,subset:rs.unquoted[o][i]}))),l!==n&&(t.settings.quoteSmart&&dr(n,s)>dr(n,t.alternative)&&(s=t.alternative),l=s+zl(n,Object.assign({},t.settings.characterReferences,{subset:("'"===s?rs.single:rs.double)[o][i],attribute:1}))+s),a+(l?"="+l:l)))}const is=["<","&"];function ls(t,e,n,r){return!n||"element"!==n.type||"script"!==n.tagName&&"style"!==n.tagName?zl(t.value,Object.assign({},r.settings.characterReferences,{subset:is})):t.value}const ss=function(t,e){const n=e||{};function r(e,...n){let o=r.invalid;const i=r.handlers;if(e&&Gr.call(e,t)){const n=e[t]+"";o=Gr.call(i,n)?i[n]:r.unknown}if(o)return o.call(this,e,...n)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}("type",{invalid(t){throw Error("Expected node, not `"+t+"`")},unknown(t){throw Error("Cannot compile unknown node `"+t.type+"`")},handlers:{comment(t,e,n,r){return r.settings.bogusComments?"<?"+zl(t.value,Object.assign({},r.settings.characterReferences,{subset:Bl}))+">":"\x3c!--"+t.value.replace(Hl,(t=>zl(t,Object.assign({},r.settings.characterReferences,{subset:ql}))))+"--\x3e"},doctype(t,e,n,r){return"<!"+(r.settings.upperDoctype?"DOCTYPE":"doctype")+(r.settings.tightDoctype?"":" ")+"html>"},element(t,e,n,r){const o=r.schema,i="svg"===o.space?0:r.settings.omitOptionalTags;let l="svg"===o.space?r.settings.closeEmptyElements:r.settings.voids.includes(t.tagName.toLowerCase());const s=[];let a;"html"===o.space&&"svg"===t.tagName&&(r.schema=xl);const u=((t,e)=>{const n=[];let r,o=-1;if(e)for(r in e)if(null!=e[r]){const o=os(t,r,e[r]);o&&n.push(o)}for(;++o<n.length;){const e=t.settings.tightAttributes?n[o].charAt(n[o].length-1):void 0;o!==n.length-1&&'"'!==e&&"'"!==e&&(n[o]+=" ")}return n.join("")})(r,t.properties),c=r.all("html"===o.space&&"template"===t.tagName?t.content:t);return r.schema=o,c&&(l=0),!u&&i&&ns(t,e,n)||(s.push("<",t.tagName,u?" "+u:""),l&&("svg"===o.space||r.settings.closeSelfClosing)&&(a=u.charAt(u.length-1),(!r.settings.tightSelfClosing||"/"===a||a&&'"'!==a&&"'"!==a)&&s.push(" "),s.push("/")),s.push(">")),s.push(c),l||i&&Gl(t,e,n)||s.push("</"+t.tagName+">"),s.join("")},raw(t,e,n,r){return r.settings.allowDangerousHtml?t.value:ls(t,0,n,r)},root(t,e,n,r){return r.all(t)},text:ls}}),as={},us={},cs=[];function fs(t,e,n){return ss(t,e,n,this)}function hs(t){const e=[],n=t&&t.children||cs;let r=-1;for(;++r<n.length;)e[r]=this.one(n[r],r,t);return e.join("")}function ds(t){const e={...this.data("settings"),...t};this.compiler=t=>((t,e)=>{const n=e||as,r=n.quote||'"',o='"'===r?"'":'"';if('"'!==r&&"'"!==r)throw Error("Invalid quote `"+r+"`, expected `'` or `\"`");return{one:fs,all:hs,settings:{omitOptionalTags:n.omitOptionalTags||0,allowParseErrors:n.allowParseErrors||0,allowDangerousCharacters:n.allowDangerousCharacters||0,quoteSmart:n.quoteSmart||0,preferUnquoted:n.preferUnquoted||0,tightAttributes:n.tightAttributes||0,upperDoctype:n.upperDoctype||0,tightDoctype:n.tightDoctype||0,bogusComments:n.bogusComments||0,tightCommaSeparatedLists:n.tightCommaSeparatedLists||0,tightSelfClosing:n.tightSelfClosing||0,collapseEmptyAttributes:n.collapseEmptyAttributes||0,allowDangerousHtml:n.allowDangerousHtml||0,voids:n.voids||Ni,characterReferences:n.characterReferences||us,closeSelfClosing:n.closeSelfClosing||0,closeEmptyElements:n.closeEmptyElements||0},schema:"svg"===n.space?xl:yl,quote:r,alternative:o}.one(Array.isArray(t)?{type:"root",children:t}:t,void 0,void 0)})(t,e)}const ps={minInterval:300,maxSize:1e6};class gs{states=[];currentIndex=-1;options;constructor(t){this.options=((t,e)=>{if(!t)return e;const n={...e};return Object.entries(t).forEach((([t,e])=>{n[t]=e})),n})(t,ps)}undo(){if(-this.currentIndex>this.states.length)return;const t=this.states.at(this.currentIndex-1);return t?(this.currentIndex--,t):void 0}redo(){if(this.currentIndex>=-1)return;const t=this.states.at(this.currentIndex+1);return t?(this.currentIndex++,t):void 0}getSize=()=>this.states.reduce(((t,e)=>t+2*e.value.length),0);saveState(t,e){const n=this.states.at(-1);if(n?.value===t)return;-1>this.currentIndex&&(this.states=this.states.slice(0,this.currentIndex+1)),this.currentIndex=-1,n&&Date.now()-n.timestamp.getTime()<=(this.options.minInterval??300)&&this.states.pop();let r=this.getSize();for(this.states.push({timestamp:new Date,cursor:e,value:t}),r+=2*t.length;r>(this.options.maxSize??1e6);){const t=this.states.shift();if(!t)break;r-=2*t.value.length}}}class ms{textarea;container;settings;pressedKeys;escapePressed=0;onKeyDownValue;history;events=new EventTarget;constructor(t,e,n){this.textarea=t,this.container=e,this.settings=n,this.pressedKeys=new Set,t.addEventListener("keydown",this.handleKeyDown.bind(this)),t.addEventListener("keyup",this.handleKeyUp.bind(this)),t.addEventListener("focus",(()=>{this.pressedKeys.clear(),this.escapePressed=0})),t.addEventListener("blur",(()=>{this.pressedKeys.clear()})),t.addEventListener("mousedown",this.handleMouseDown.bind(this)),this.history=new gs(n.historyOpts),this.history.saveState(this.textarea.value,this.textarea.selectionStart);for(const e of n.listeners)t.addEventListener(...e)}isWordCharacter(t){return RegExp(/^[a-zA-Z0-9_\-']*$/).test(t)}handleMouseDown(t){const e=this.getSelection().start,n=this.textarea.value.at(e);if(2==t.detail&&"\n"!=n&&" "!=n){t.preventDefault();const n=this.isWordCharacter(this.textarea.value[e]);let r=e,o=e;for(;r>=0&&this.isWordCharacter(this.textarea.value[r])==n&&" "!=this.textarea.value[r];)r--;for(;this.textarea.value.length>o&&this.isWordCharacter(this.textarea.value[o])==n&&" "!=this.textarea.value[o];)o++;this.textarea.setSelectionRange(r+1,o)}}handleKeyDown(t){const e=t.key.toLowerCase();this.pressedKeys.add(e);const n=this.settings.shortcuts.filter((t=>((t,e)=>{if(t.size!==e.size)return 0;const n=new Set(t),r=new Set(e);for(const t of n)if(r.add(t),r.size!==e.size)return 0;for(const e of r)if(n.add(e),n.size!==t.size)return 0;return 1})(this.pressedKeys,t.combination)));if(n.length>0){t.preventDefault();for(const t of n)t.action(this),t.preventSave||this.history.saveState(this.textarea.value,this.textarea.selectionStart),this.update();this.onKeyDownValue=void 0}else{if("enter"===e)this.handleNewLine(t);else if("tab"!=e||this.escapePressed)"escape"===e&&(this.escapePressed=1);else{if(t.preventDefault(),t.shiftKey){const t=this.getLine(),e=t.start,n=this.textarea.selectionStart;t.value.startsWith("\t")&&(this.removeAt(e,1),this.textarea.selectionStart=n-1,this.textarea.selectionEnd=n-1)}else{const t=this.textarea.selectionStart;this.insertAt(this.textarea.selectionStart,"\t"),this.textarea.selectionStart=t+1,this.textarea.selectionEnd=t+1}this.update()}this.onKeyDownValue=this.textarea.value}}handleKeyUp(t){const e=t.key.toLowerCase();this.pressedKeys.delete(e),void 0!==this.onKeyDownValue&&this.textarea.value!=this.onKeyDownValue&&this.history.saveState(this.textarea.value,this.textarea.selectionStart)}handleNewLine(t){const e=this.textarea.selectionStart;let n;for(n=e;n>0&&"\n"!==this.textarea.value.at(n-1);n--);const r=this.textarea.value.slice(n,e);for(const o of this.settings.prefixes){const i=o.match(r);if(i){if(t.preventDefault(),""===r.slice((Array.isArray(i)?i[0]:i).length).trim()){const t=this.getLine(n);return this.removeAt(n,t.value.length),this.textarea.setSelectionRange(t.start,t.start),void this.update()}const l=o.maker(i,r);this.insertAt(e,"\n"+l),this.update();const s=e+l.length+1;this.textarea.setSelectionRange(s,s);break}}}getSelection(){const t=this.textarea.selectionStart,e=this.textarea.selectionEnd;return{start:t,end:e,direction:this.textarea.selectionDirection,slice:this.textarea.value.slice(t,e)}}getLine(t=this.textarea.selectionStart){let e,n;for(e=t;e>0&&"\n"!==this.textarea.value.at(e-1);e--);for(n=t;this.textarea.value.length-1>n&&"\n"!==this.textarea.value.at(n);n++);return{start:e,end:n,value:this.textarea.value.slice(e,n)}}insertAt(t,e){const n=this.textarea.value;this.textarea.value=n.slice(0,t)+e+n.slice(t)}removeAt(t,e=1){const n=this.textarea.value;this.textarea.value=n.slice(0,t)+n.slice(t+e)}toggleSelectionSurrounding(t){const e=this.getSelection(),n=Array.isArray(t)?t[0]:t,r=Array.isArray(t)?t[1]:t,o=this.textarea.value.slice(e.start-n.length,e.start),i=this.textarea.value.slice(e.end,e.end+r.length);o===n&&i===r?(this.removeAt(e.end,r.length),this.removeAt(e.start-n.length,n.length),this.textarea.setSelectionRange(e.start-r.length,e.end-r.length)):(this.insertAt(e.end,r),this.insertAt(e.start,n),this.textarea.setSelectionRange(e.start+n.length,e.end+n.length))}toggleLinePrefix(t,e="attach"){const n=this.getSelection();let r=n.start;for(;r>0&&"\n"!==this.textarea.value.at(r-1);)r--;let o=n.start;this.textarea.value.slice(r,t.length)===t?"attach"===e&&" "===this.textarea.value.at(r+t.length)?(this.removeAt(r,t.length+1),o-=t.length+1):(this.removeAt(r,t.length),o-=t.length):"attach"===e?(this.insertAt(r,t+" "),o+=t.length+1):(this.insertAt(r,t),o+=t.length),this.textarea.setSelectionRange(o,o+n.slice.length)}update=()=>this.events.dispatchEvent(new Event("update"));getCursorXY(t=this.textarea.selectionStart){const{offsetLeft:e,offsetTop:n}=this.textarea,r=document.createElement("div"),o=getComputedStyle(this.textarea);for(const t of o)r.style[t]=o[t];const i="INPUT"===this.textarea.tagName?this.textarea.value.replace(/ /g,"."):this.textarea.value,l=i.substr(0,t);r.textContent=l,"TEXTAREA"===this.textarea.tagName&&(r.style.height="auto"),"INPUT"===this.textarea.tagName&&(r.style.width="auto");const s=document.createElement("span");s.className+="carta-font-code",s.textContent=i.substr(t)||".",r.appendChild(s),document.body.appendChild(r);const{offsetLeft:a,offsetTop:u}=s;return document.body.removeChild(r),{x:e+a,y:n+u,left:e+a,top:n+u,right:this.textarea.clientWidth-e,bottom:this.textarea.clientHeight-n}}moveElemToCaret(t){const e=t.clientWidth,n=t.clientHeight,r=this.getCursorXY(),o=this.getRowHeight();let i,l=r.left;this.container.clientWidth>e&&l+e-this.container.scrollLeft>=this.container.clientWidth&&(i=this.container.clientWidth-l,l=void 0);let s,a=r.top;this.container.clientHeight>n&&a+n-this.container.scrollTop>=this.container.clientHeight&&(s=this.container.clientHeight-a,a=void 0),t.style.left=void 0!==l?l+"px":"unset",t.style.right=void 0!==i?i+"px":"unset",t.style.top=void 0!==a?a+o+"px":"unset",t.style.bottom=void 0!==s?s+"px":"unset"}$bindToCaret(t,e){e.portal.appendChild(t);const n=Array.from(e.editorElement?.classList??[]).find((t=>t.startsWith("carta-theme__")));t.classList.add(n??"carta-theme__default"),t.style.position="fixed";const r=()=>{const e=this.getCursorXY(),n={x:e.x+this.textarea.getBoundingClientRect().left,y:e.y+this.textarea.getBoundingClientRect().top},r=this.getRowHeight();let o,i=n.x;i+t.clientWidth<globalThis.innerWidth||(o=globalThis.innerWidth-i,i=void 0);let l,s=n.y;s+t.clientHeight<globalThis.innerHeight||(l=globalThis.innerHeight-s,s=void 0),t.style.left=void 0!==i?i+"px":"unset",t.style.right=void 0!==o?o+"px":"unset",t.style.top=void 0!==s?s+r+"px":"unset",t.style.bottom=void 0!==l?l+"px":"unset"};return this.textarea.addEventListener("input",r),globalThis.addEventListener("resize",r),globalThis.addEventListener("scroll",r),r(),{destroy:()=>{try{e.portal.removeChild(t)}catch(t){}this.textarea.removeEventListener("input",r),globalThis.removeEventListener("resize",r),globalThis.removeEventListener("scroll",r)}}}getRowHeight(){const t=getComputedStyle(this.container).lineHeight,e=parseFloat(t),n=parseFloat(getComputedStyle(this.container).fontSize);return isNaN(e)?Math.ceil(1.2*n):t.endsWith("em")?Math.ceil(e*n):t.endsWith("%")?Math.ceil(e/100*n):t.endsWith("px")?Math.ceil(e):Math.ceil(n*e)}}const bs=[{id:"bold",combination:new Set(["control","b"]),action(t){return t.toggleSelectionSurrounding("**")}},{id:"italic",combination:new Set(["control","i"]),action(t){return t.toggleSelectionSurrounding("_")}},{id:"quote",combination:new Set(["control","shift",","]),action(t){return t.toggleLinePrefix(">")}},{id:"link",combination:new Set(["control","k"]),action(t){t.toggleSelectionSurrounding(["[","]"]);const e=t.getSelection().end+1;t.insertAt(e,"(url)"),t.textarea.setSelectionRange(e+1,e+4)}},{id:"strikethrough",combination:new Set(["control","shift","x"]),action(t){return t.toggleSelectionSurrounding("~~")}},{id:"code",combination:new Set(["control","e"]),action(t){return t.toggleSelectionSurrounding("`")}},{id:"undo",combination:new Set(["control","z"]),preventSave:1,action(t){const e=t.history.undo();e&&(t.textarea.value=e.value,t.textarea.selectionStart=e.cursor,t.textarea.selectionEnd=e.cursor)}},{id:"redo",combination:new Set(["control","y"]),preventSave:1,action(t){const e=t.history.redo();e&&(t.textarea.value=e.value,t.textarea.selectionStart=e.cursor,t.textarea.selectionEnd=e.cursor)}}];function vs(t){let e,n,r;return{c(){e=O("svg"),n=O("rect"),r=O("path"),i(n,"x","0"),i(n,"y","0"),i(n,"width","16"),i(n,"height","16"),i(n,"fill","none"),i(n,"stroke","none"),i(r,"fill","currentColor"),i(r,"fill-rule","evenodd"),i(r,"d","M4.5 2.75a.75.75 0 0 0-1.5 0v10.5a.75.75 0 0 0 1.5 0v-4.5h7v4.5a.75.75 0 0 0 1.5 0V2.75a.75.75 0 0 0-1.5 0v4.5h-7v-4.5Z"),i(r,"clip-rule","evenodd"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"width","16"),i(e,"height","16"),i(e,"viewBox","0 0 16 16")},m(t,o){l(t,e,o),s(e,n),s(e,r)},p:D,i:D,o:D,d(t){t&&d(e)}}}function ks(t){let e,n,r;return{c(){e=O("svg"),n=O("rect"),r=O("path"),i(n,"x","0"),i(n,"y","0"),i(n,"width","16"),i(n,"height","16"),i(n,"fill","none"),i(n,"stroke","none"),i(r,"fill","currentColor"),i(r,"fill-rule","evenodd"),i(r,"d","M6.5 2a.75.75 0 0 0 0 1.5h1.93l-2.412 9H4A.75.75 0 0 0 4 14h5.5a.75.75 0 0 0 0-1.5H7.57l2.412-9H12A.75.75 0 0 0 12 2H6.5Z"),i(r,"clip-rule","evenodd"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"width","16"),i(e,"height","16"),i(e,"viewBox","0 0 16 16")},m(t,o){l(t,e,o),s(e,n),s(e,r)},p:D,i:D,o:D,d(t){t&&d(e)}}}function ys(t){let e,n,r;return{c(){e=O("svg"),n=O("rect"),r=O("path"),i(n,"x","0"),i(n,"y","0"),i(n,"width","16"),i(n,"height","16"),i(n,"fill","none"),i(n,"stroke","none"),i(r,"fill","currentColor"),i(r,"fill-rule","evenodd"),i(r,"d","M4 2a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h5.5a3.5 3.5 0 0 0 1.852-6.47A3.5 3.5 0 0 0 8.5 2H4Zm4.5 5a1.5 1.5 0 1 0 0-3H5v3h3.5ZM5 9v3h4.5a1.5 1.5 0 0 0 0-3H5Z"),i(r,"clip-rule","evenodd"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"width","16"),i(e,"height","16"),i(e,"viewBox","0 0 16 16")},m(t,o){l(t,e,o),s(e,n),s(e,r)},p:D,i:D,o:D,d(t){t&&d(e)}}}function xs(t){let e,n,r;return{c(){e=O("svg"),n=O("rect"),r=O("path"),i(n,"x","0"),i(n,"y","0"),i(n,"width","16"),i(n,"height","16"),i(n,"fill","none"),i(n,"stroke","none"),i(r,"fill","currentColor"),i(r,"fill-rule","evenodd"),i(r,"d","M1.5 3.75a.75.75 0 0 0-1.5 0v8.5a.75.75 0 0 0 1.5 0v-8.5ZM4.75 3a.75.75 0 0 0 0 1.5h7.5a.75.75 0 0 0 0-1.5h-7.5Zm0 4.25a.75.75 0 0 0 0 1.5h10.5a.75.75 0 0 0 0-1.5H4.75Zm-.75 5a.75.75 0 0 1 .75-.75h6.5a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1-.75-.75Z"),i(r,"clip-rule","evenodd"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"width","16"),i(e,"height","16"),i(e,"viewBox","0 0 16 16")},m(t,o){l(t,e,o),s(e,n),s(e,r)},p:D,i:D,o:D,d(t){t&&d(e)}}}function ws(t){let e,n,r;return{c(){e=O("svg"),n=O("rect"),r=O("path"),i(n,"x","0"),i(n,"y","0"),i(n,"width","16"),i(n,"height","16"),i(n,"fill","none"),i(n,"stroke","none"),i(r,"fill","currentColor"),i(r,"fill-rule","evenodd"),i(r,"d","M9.929 3.132a2.078 2.078 0 1 1 2.94 2.94l-.65.648a.75.75 0 0 0 1.061 1.06l.649-.648a3.579 3.579 0 0 0-5.06-5.06L6.218 4.72a3.578 3.578 0 0 0 0 5.06a.75.75 0 0 0 1.061-1.06a2.078 2.078 0 0 1 0-2.94L9.93 3.132Zm-.15 3.086a.75.75 0 0 0-1.057 1.064c.816.81.818 2.13.004 2.942l-2.654 2.647a2.08 2.08 0 0 1-2.94-2.944l.647-.647a.75.75 0 0 0-1.06-1.06l-.648.647a3.58 3.58 0 0 0 5.06 5.066l2.654-2.647a3.575 3.575 0 0 0-.007-5.068Z"),i(r,"clip-rule","evenodd"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"width","16"),i(e,"height","16"),i(e,"viewBox","0 0 16 16")},m(t,o){l(t,e,o),s(e,n),s(e,r)},p:D,i:D,o:D,d(t){t&&d(e)}}}function Ss(t){let e,n,r;return{c(){e=O("svg"),n=O("rect"),r=O("path"),i(n,"x","0"),i(n,"y","0"),i(n,"width","16"),i(n,"height","16"),i(n,"fill","none"),i(n,"stroke","none"),i(r,"fill","currentColor"),i(r,"fill-rule","evenodd"),i(r,"d","M1 4.75a1 1 0 1 0 0-2a1 1 0 0 0 0 2ZM4.75 3a.75.75 0 0 0 0 1.5h10.5a.75.75 0 0 0 0-1.5H4.75Zm0 4.25a.75.75 0 0 0 0 1.5h10.5a.75.75 0 0 0 0-1.5H4.75Zm-.75 5a.75.75 0 0 1 .75-.75h10.5a.75.75 0 0 1 0 1.5H4.75a.75.75 0 0 1-.75-.75ZM2 8a1 1 0 1 1-2 0a1 1 0 0 1 2 0Zm-1 5.25a1 1 0 1 0 0-2a1 1 0 0 0 0 2Z"),i(r,"clip-rule","evenodd"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"width","16"),i(e,"height","16"),i(e,"viewBox","0 0 16 16")},m(t,o){l(t,e,o),s(e,n),s(e,r)},p:D,i:D,o:D,d(t){t&&d(e)}}}function Es(t){let e,n,r;return{c(){e=O("svg"),n=O("rect"),r=O("path"),i(n,"x","0"),i(n,"y","0"),i(n,"width","16"),i(n,"height","16"),i(n,"fill","none"),i(n,"stroke","none"),i(r,"fill","currentColor"),i(r,"fill-rule","evenodd"),i(r,"d","M0 2h2v4H1V3H0V2Zm1.637 9.008H0v-1h1.637a1.382 1.382 0 0 1 .803 2.506L1.76 13H3v1H0v-.972L1.859 11.7a.382.382 0 0 0-.222-.693ZM4.75 3a.75.75 0 0 0 0 1.5h10.5a.75.75 0 0 0 0-1.5H4.75Zm0 4.25a.75.75 0 0 0 0 1.5h10.5a.75.75 0 0 0 0-1.5H4.75Zm-.75 5a.75.75 0 0 1 .75-.75h10.5a.75.75 0 0 1 0 1.5H4.75a.75.75 0 0 1-.75-.75Z"),i(r,"clip-rule","evenodd"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"width","16"),i(e,"height","16"),i(e,"viewBox","0 0 16 16")},m(t,o){l(t,e,o),s(e,n),s(e,r)},p:D,i:D,o:D,d(t){t&&d(e)}}}function Cs(t){let e,n,r;return{c(){e=O("svg"),n=O("rect"),r=O("path"),i(n,"x","0"),i(n,"y","0"),i(n,"width","16"),i(n,"height","16"),i(n,"fill","none"),i(n,"stroke","none"),i(r,"fill","currentColor"),i(r,"fill-rule","evenodd"),i(r,"d","M4.78 3.28a.75.75 0 0 0-1.06-1.06L1.75 4.19l-.47-.47A.75.75 0 0 0 .22 4.78l1 1a.75.75 0 0 0 1.06 0l2.5-2.5ZM6 3.75A.75.75 0 0 1 6.75 3h8.5a.75.75 0 0 1 0 1.5h-8.5A.75.75 0 0 1 6 3.75ZM6 8a.75.75 0 0 1 .75-.75h8.5a.75.75 0 0 1 0 1.5h-8.5A.75.75 0 0 1 6 8Zm.75 3.5a.75.75 0 0 0 0 1.5h8.5a.75.75 0 0 0 0-1.5h-8.5Zm-1.97-1.28a.75.75 0 0 1 0 1.06l-2.5 2.5a.75.75 0 0 1-1.06 0l-1-1a.75.75 0 1 1 1.06-1.06l.47.47l1.97-1.97a.75.75 0 0 1 1.06 0Z"),i(r,"clip-rule","evenodd"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"width","16"),i(e,"height","16"),i(e,"viewBox","0 0 16 16")},m(t,o){l(t,e,o),s(e,n),s(e,r)},p:D,i:D,o:D,d(t){t&&d(e)}}}function Ms(t){let e,n,r;return{c(){e=O("svg"),n=O("rect"),r=O("path"),i(n,"x","0"),i(n,"y","0"),i(n,"width","16"),i(n,"height","16"),i(n,"fill","none"),i(n,"stroke","none"),i(r,"fill","currentColor"),i(r,"fill-rule","evenodd"),i(r,"d","M9.424 2.023a.75.75 0 0 1 .556.904L7.48 13.42a.75.75 0 0 1-1.46-.348L8.52 2.58a.75.75 0 0 1 .904-.556ZM11.16 4.22a.75.75 0 0 1 1.06 0l3.25 3.25L16 8l-.53.53l-3.25 3.25a.75.75 0 1 1-1.06-1.06L13.88 8l-2.72-2.72a.75.75 0 0 1 0-1.06ZM4.84 5.28a.75.75 0 1 0-1.06-1.06L.53 7.47L0 8l.53.53l3.25 3.25a.75.75 0 0 0 1.06-1.06L2.12 8l2.72-2.72Z"),i(r,"clip-rule","evenodd"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"width","16"),i(e,"height","16"),i(e,"viewBox","0 0 16 16")},m(t,o){l(t,e,o),s(e,n),s(e,r)},p:D,i:D,o:D,d(t){t&&d(e)}}}function Ts(t){let e,n,r;return{c(){e=O("svg"),n=O("rect"),r=O("path"),i(n,"x","0"),i(n,"y","0"),i(n,"width","16"),i(n,"height","16"),i(n,"fill","none"),i(n,"stroke","none"),i(r,"fill","currentColor"),i(r,"fill-rule","evenodd"),i(r,"d","M7.886 1a3.136 3.136 0 0 0-2.41 5.144L6.4 7.25H2.75a.75.75 0 0 0 0 1.5h4.899l1.722 2.066A1.636 1.636 0 0 1 8.114 13.5H8a1.75 1.75 0 0 1-1.75-1.75a.75.75 0 0 0-1.5 0A3.25 3.25 0 0 0 8 15h.114a3.136 3.136 0 0 0 2.41-5.144L9.6 8.75h3.649a.75.75 0 0 0 0-1.5H8.351L6.63 5.184A1.636 1.636 0 0 1 7.886 2.5H8c.966 0 1.75.784 1.75 1.75a.75.75 0 0 0 1.5 0A3.25 3.25 0 0 0 8 1h-.114Z"),i(r,"clip-rule","evenodd"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"width","16"),i(e,"height","16"),i(e,"viewBox","0 0 16 16")},m(t,o){l(t,e,o),s(e,n),s(e,r)},p:D,i:D,o:D,d(t){t&&d(e)}}}const Os=[{id:"heading",action(t){return t.toggleLinePrefix("###")},component:class extends t{constructor(t){super(),e(this,t,null,vs,n,{})}},label:"Heading"},{id:"bold",action(t){return t.toggleSelectionSurrounding("**")},component:class extends t{constructor(t){super(),e(this,t,null,ys,n,{})}},label:"Bold"},{id:"italic",action(t){return t.toggleSelectionSurrounding("*")},component:class extends t{constructor(t){super(),e(this,t,null,ks,n,{})}},label:"Italic"},{id:"strikethrough",action(t){return t.toggleSelectionSurrounding("~~")},component:class extends t{constructor(t){super(),e(this,t,null,Ts,n,{})}},label:"Strikethrough"},{id:"quote",action(t){return t.toggleLinePrefix(">")},component:class extends t{constructor(t){super(),e(this,t,null,xs,n,{})}},label:"Quote"},{id:"code",action(t){return t.toggleSelectionSurrounding("`")},component:class extends t{constructor(t){super(),e(this,t,null,Ms,n,{})}},label:"Code"},{id:"link",action(t){t.toggleSelectionSurrounding(["[","]"]);const e=t.getSelection().end+1;t.insertAt(e,"(url)"),t.textarea.setSelectionRange(e+1,e+4)},component:class extends t{constructor(t){super(),e(this,t,null,ws,n,{})}},label:"Link"},{id:"bulletedList",action(t){return t.toggleLinePrefix("- ","detach")},component:class extends t{constructor(t){super(),e(this,t,null,Ss,n,{})}},label:"Bulleted list"},{id:"numberedList",action(t){return t.toggleLinePrefix("1. ","detach")},component:class extends t{constructor(t){super(),e(this,t,null,Es,n,{})}},label:"Numbered list"},{id:"taskList",action(t){return t.toggleLinePrefix("- [ ] ","detach")},component:class extends t{constructor(t){super(),e(this,t,null,Cs,n,{})}},label:"Task list"}],Ds={taskList:/^(\s*)(-\s+\[)[ xX]?(\]\s+)/,bulletedList:/^(\s*)([-*]\s+)/,numberedList:/^(\s*)(\d+)(\.\s+)/,blockquote:/^(\s*)([> ]*[>]\s+)/},Ls=[{id:"taskList",match(t){return Ds.taskList.exec(t)},maker(t){return`${t[1]}${t[2]} ${t[3]}`}},{id:"bulletedList",match(t){return Ds.bulletedList.exec(t)},maker(t){return`${t[1]}${t[2]}`}},{id:"numberedList",match(t){return Ds.numberedList.exec(t)},maker(t){return`${t[1]}${+t[2]+1}${t[3]}`}},{id:"blockquote",match(t){return Ds.blockquote.exec(t)},maker(t){return`${t[1]}${t[2]}`}}];class As{container;constructor(t){this.container=t}}const Fs=["carta-render","carta-render-ssr"];var Rs={Carta:class{sanitizer;historyOptions;theme;shikiOptions;rendererDebounce;keyboardShortcuts;icons;prefixes;grammarRules;highlightingRules;textareaListeners;cartaListeners;components;dispatcher=new EventTarget;gfmOptions;syncProcessor;asyncProcessor;mElement;mInput;mRenderer;mHighlighter;mSyncTransformers=[];mAsyncTransformers=[];get element(){return this.mElement}get input(){return this.mInput}get renderer(){return this.mRenderer}async highlighter(){return this.mHighlighter||(this.mHighlighter=(async()=>{const t=await import("./highlight-2XSyr1M6.js"),{loadHighlighter:e,loadDefaultTheme:n}=t;return e({theme:this.theme??await n(),grammarRules:this.grammarRules,highlightingRules:this.highlightingRules,shiki:this.shikiOptions})})()),this.mHighlighter}elementsToBind=[];constructor(t){this.sanitizer=t?.sanitizer||void 0,this.historyOptions=t?.historyOptions,this.theme=t?.theme,this.shikiOptions=t?.shikiOptions,this.rendererDebounce=t?.rendererDebounce??300,this.keyboardShortcuts=[],this.icons=[],this.prefixes=[],this.textareaListeners=[],this.cartaListeners=[],this.components=[],this.grammarRules=[],this.highlightingRules=[];const e=[];for(const n of t?.extensions??[])this.keyboardShortcuts.push(...n.shortcuts??[]),this.icons.push(...n.icons??[]),this.prefixes.push(...n.prefixes??[]),this.components.push(...n.components??[]),this.grammarRules.push(...n.grammarRules??[]),this.highlightingRules.push(...n.highlightingRules??[]),e.push(...n.listeners??[]);this.textareaListeners=e.filter((t=>!Fs.includes(t[0]))),this.cartaListeners=e.filter((t=>Fs.includes(t[0]))),this.cartaListeners.forEach((t=>{this.dispatcher.addEventListener(...t)})),this.keyboardShortcuts.push(...bs.filter((e=>1==t?.disableShortcuts?0:!t?.disableShortcuts?.includes(e.id)))),this.icons.unshift(...Os.filter((e=>1==t?.disableIcons?0:!t?.disableIcons?.includes(e.id)))),this.prefixes.push(...Ls.filter((e=>1==t?.disablePrefixes?0:!t?.disablePrefixes?.includes(e.id)))),this.mSyncTransformers=[],this.mAsyncTransformers=[];for(const e of t?.extensions??[])for(const t of e.transformers??[])"sync"===t.execution?this.mSyncTransformers.push(t):this.mAsyncTransformers.push(t);this.gfmOptions=t?.gfmOptions,this.syncProcessor=this.setupSynchronousProcessor({gfmOptions:this.gfmOptions}),this.asyncProcessor=this.setupAsynchronousProcessor({gfmOptions:this.gfmOptions});for(const e of t?.extensions??[])e.onLoad&&e.onLoad({carta:this})}setupSynchronousProcessor({gfmOptions:t}){const e=be(),n=this.mSyncTransformers.filter((t=>"remark"===t.type)),r=this.mSyncTransformers.filter((t=>"rehype"===t.type));e.use(hr),e.use(ui,t);for(const t of n)t.transform({processor:e,carta:this});e.use(qi);for(const t of r)t.transform({processor:e,carta:this});return e.use(ds),e}async setupAsynchronousProcessor({gfmOptions:t}){const e=be(),n=[...this.mSyncTransformers,...this.mAsyncTransformers].filter((t=>"remark"===t.type)),r=[...this.mSyncTransformers,...this.mAsyncTransformers].filter((t=>"rehype"===t.type));e.use(hr),e.use(ui,t);for(const t of n)await t.transform({processor:e,carta:this});e.use(qi);for(const t of r)await t.transform({processor:e,carta:this});return e.use(ds),e}async render(t){{const e=await import("./highlight-2XSyr1M6.js"),{loadNestedLanguages:n}=e,r=await this.highlighter();await n(r,t)}const e=await this.asyncProcessor,n=await e.process(t)+"";return n?(this.dispatcher.dispatchEvent(new K("carta-render",{detail:{carta:this}})),(this.sanitizer&&this.sanitizer(n))??n):""}renderSSR(t){const e=this.syncProcessor.processSync(t)+"";return"string"!=typeof e?"":(this.dispatcher.dispatchEvent(new K("carta-render-ssr",{detail:{carta:this}})),this.sanitizer?this.sanitizer(e):e)}$setElement(t){this.mElement=t}$setInput(t,e,n){const r=this.input;this.mInput=new ms(t,e,{shortcuts:this.keyboardShortcuts,prefixes:this.prefixes,listeners:this.textareaListeners,historyOpts:this.historyOptions}),r&&(r.events.removeEventListener("update",n),this.mInput.history=r.history),this.mInput.events.addEventListener("update",n),this.elementsToBind.forEach((t=>{t.callback=this.input?.$bindToCaret(t.elem,{portal:t.portal,editorElement:this.element}).destroy}))}$setRenderer(t){this.mRenderer=new As(t)}bindToCaret(t,e=document.querySelector("body")){let n;return this.input&&(n=this.input.$bindToCaret(t,{portal:e,editorElement:this.element}).destroy),this.elementsToBind.push({elem:t,portal:e,callback:n}),{destroy:()=>{n&&n(),this.elementsToBind=this.elementsToBind.filter((e=>e.elem!=t))}}}},MarkdownEditor(t){return new Bt({...t,h:t})},Markdown(t){return new Ut({...t,h:t})}};export{Rs as default};
